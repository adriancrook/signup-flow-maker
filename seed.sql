[dotenv@17.2.3] injecting env (2) from .env.local -- tip: ðŸ“¡ add observability to secrets: https://dotenvx.com/ops
-- SQL Seed Dump for Blueprints
DO $$
DECLARE
  org_id uuid;
  profile_id uuid;
  new_flow_id uuid;
  version_id uuid;
  flow_data jsonb;
BEGIN
  -- 1. Get Teaching.com Org
  SELECT id INTO org_id FROM organizations WHERE slug = 'teaching-com';

  -- 2. Create a 'System' profile if needed or just use the first user found or null
  -- For now, we will leave created_by NULL for system seeds or pick a random admin
  SELECT id INTO profile_id FROM profiles WHERE organization_id = org_id LIMIT 1;
  -- Flow: Educator Teacher
  INSERT INTO flows (organization_id, name, description, created_by)
  VALUES (org_id, 'Educator Teacher', 'Imported from Blueprint', profile_id)
  RETURNING id INTO new_flow_id;

  INSERT INTO flow_versions (flow_id, version_name, data, created_by)
  VALUES (new_flow_id, 'Initial Seed', '{"nodes":[{"id":"mpiqwnjGRMnFvtWIEOuuY","type":"MC","position":{"x":0,"y":0},"data":{"screen":{"id":"mpiqwnjGRMnFvtWIEOuuY","type":"MC","title":"Who are you?","question":"I am a...","options":[{"id":"opt-tch","label":"Teacher","value":"teacher"},{"id":"opt-sch","label":"School Admin","value":"school-admin"},{"id":"opt-dst","label":"District Admin","value":"district-admin"}],"variableBinding":"role"},"label":"Educator Gatekeeper","code":"MC-GATEKEEPER-EDU","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"qK1evsQXeUWwd7NjaVV9P","type":"MSG","position":{"x":360,"y":0},"data":{"screen":{"id":"qK1evsQXeUWwd7NjaVV9P","type":"MSG","title":"Social Proof","style":"overlay","copy":"You are joining 50 million users who trust Typing.com.","headline":"Great choice!"},"label":"Social Proof","code":"MSG-SOCIAL-PROOF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"MqkAZMlHXyeJVIX-beuEI","type":"MC","position":{"x":720,"y":0},"data":{"screen":{"id":"MqkAZMlHXyeJVIX-beuEI","type":"MC","title":"Confirm Location","question":"We detected you''re in [Detected State]. Is this correct?","options":[{"id":"opt-yes","label":"Yes","value":"yes"},{"id":"opt-no","label":"No, I''m in ___","value":"no"}],"variableBinding":"state"},"label":"Confirm Location","code":"MC-LOCATION-EDU","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"QTBA3UyuiLwVTnJc-huZ4","type":"MSG","position":{"x":1080,"y":0},"data":{"screen":{"id":"QTBA3UyuiLwVTnJc-huZ4","type":"MSG","title":"Location Confirmed","headline":"Great.","copy":"We''ll align your curriculum to [State] standards.","style":"standard"},"label":"Location Success","code":"MSG-LOCATION-EDU-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"RsIGPtB4-sHg9T02tjMFp","type":"MS","position":{"x":0,"y":320},"data":{"screen":{"id":"RsIGPtB4-sHg9T02tjMFp","type":"MS","title":"Grade Levels","question":"What grade levels do you teach?","options":[{"id":"opt-k2","label":"K-2","value":"k-2"},{"id":"opt-35","label":"3-5","value":"3-5"},{"id":"opt-68","label":"6-8","value":"6-8"},{"id":"opt-912","label":"9-12","value":"9-12"}],"variableBinding":"gradeLevels"},"label":"Grade Levels","code":"MS-GRADES-TCH","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"fVGD1xHfATnTGuJUAPkfm","type":"MSG","position":{"x":360,"y":320},"data":{"screen":{"id":"fVGD1xHfATnTGuJUAPkfm","type":"MSG","title":"Content Match","headline":"Excellent.","copy":"We have curriculum aligned specifically to [State] standards for those grades.","style":"standard"},"label":"Affirmation: Grades","code":"MSG-GRADES-TCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"xs7PY_FCSB9DhLrSwDiZf","type":"NUM","position":{"x":720,"y":320},"data":{"screen":{"id":"xs7PY_FCSB9DhLrSwDiZf","type":"NUM","title":"Student Count","prompt":"How many students do you teach?","placeholder":"e.g. 25","inputType":"number","variableBinding":"studentCount"},"label":"Student Count","code":"NUM-STUDENTS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"3H3NNR6fxLgXDnb2Ado9K","type":"MSG","position":{"x":1080,"y":320},"data":{"screen":{"id":"3H3NNR6fxLgXDnb2Ado9K","type":"MSG","title":"Classroom Size","headline":"Got it.","copy":"Our tools are built to manage student counts of any size with live tracking.","style":"standard"},"label":"Affirmation: Student Count","code":"MSG-STUDENTS-TCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"-TLFmmheGel62d6dGEp2h","type":"MS","position":{"x":0,"y":640},"data":{"screen":{"id":"-TLFmmheGel62d6dGEp2h","type":"MS","title":"Content Needs","question":"Beyond typing, what other skills are you looking to teach?","options":[{"id":"opt-coding","label":"Coding/Computer Basics","value":"coding"},{"id":"opt-digcit","label":"Digital Citizenship","value":"digcit"},{"id":"opt-career","label":"Career Prep","value":"career"},{"id":"opt-typing","label":"Just Typing","value":"typing"}],"variableBinding":"contentNeeds"},"label":"Content Needs","code":"MS-CONTENT","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"wNuKey6CXNpCjkUXN_CtH","type":"MSG","position":{"x":360,"y":640},"data":{"screen":{"id":"wNuKey6CXNpCjkUXN_CtH","type":"MSG","title":"Perfect Choice","headline":"Perfect choice.","copy":"Our PLUS license unlocks a full Tech Literacy curriculum, not just keyboarding.","style":"standard"},"label":"Affirmation: Content Needs","code":"MSG-CONTENT-TCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"VYTPFEVvNGA9KDq2tUBwM","type":"MC","position":{"x":720,"y":640},"data":{"screen":{"id":"VYTPFEVvNGA9KDq2tUBwM","type":"MC","title":"Rostering","question":"How do you want your students to log in?","options":[{"id":"opt-google","label":"Google/Microsoft","value":"google"},{"id":"opt-clever","label":"Clever","value":"clever"},{"id":"opt-class","label":"Class Code","value":"manual"}],"variableBinding":"rosteringMethod"},"label":"Rostering","code":"MC-ROSTERING","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"7TfmjSjxqfx8F-3PEBSZ1","type":"MSG","position":{"x":1080,"y":640},"data":{"screen":{"id":"7TfmjSjxqfx8F-3PEBSZ1","type":"MSG","title":"Seamless Sync","headline":"Ease of Use.","copy":"We sync seamlessly with your rostering method so you don''t have to manually manage passwords.","style":"standard"},"label":"Affirmation: Rostering","code":"MSG-ROSTERING-TCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"ZhgAnBlibZ3Pj_ejjNHiH","type":"MC","position":{"x":0,"y":960},"data":{"screen":{"id":"ZhgAnBlibZ3Pj_ejjNHiH","type":"MC","title":"Environment","question":"How important is removing ads?","options":[{"id":"opt-very","label":"Very Important","value":"very"},{"id":"opt-some","label":"Somewhat","value":"somewhat"},{"id":"opt-not","label":"Not a Priority","value":"none"}],"variableBinding":"adImportance"},"label":"Ads Concern","code":"MC-ENVIRONMENT","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"u5shAENLD74_4ojL4hxfi","type":"MSG","position":{"x":360,"y":960},"data":{"screen":{"id":"u5shAENLD74_4ojL4hxfi","type":"MSG","title":"Distraction Free","headline":"Understood.","copy":"PLUS removes all ads to keep students in a focused ''flow state''.","style":"standard"},"label":"Affirmation: Environment","code":"MSG-ENVIRONMENT-TCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"Pv7RyxeLv_W1rvf6hzJSX","type":"MC","position":{"x":720,"y":960},"data":{"screen":{"id":"Pv7RyxeLv_W1rvf6hzJSX","type":"MC","title":"Accessibility","question":"Do students require accommodations?","options":[{"id":"opt-yes","label":"Yes","value":"yes"},{"id":"opt-no","label":"No","value":"no"}],"variableBinding":"needsAccessibility"},"label":"Accessibility","code":"MC-ACCESSIBILITY","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"MH0HgqnsCXm0kUak13pvi","type":"MSG","position":{"x":1080,"y":960},"data":{"screen":{"id":"MH0HgqnsCXm0kUak13pvi","type":"MSG","title":"Inclusivity","headline":"Inclusive.","copy":"We provide WCAG 2.2 AA-compliant themes, audio dictation, and one-handed settings to ensure every student succeeds.","style":"standard"},"label":"Affirmation: Accessibility","code":"MSG-ACCESSIBILITY-TCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"o0elfw5av6leqtzKdDT6j","type":"MC","position":{"x":0,"y":1280},"data":{"screen":{"id":"o0elfw5av6leqtzKdDT6j","type":"MC","title":"Device","question":"What device(s) will students use?","options":[{"id":"opt-chrome","label":"Chromebooks","value":"chromebook"},{"id":"opt-ipad","label":"iPads/Tablets","value":"tablet"},{"id":"opt-desk","label":"Desktop/Laptop","value":"desktop"}],"variableBinding":"device"},"label":"Device","code":"MC-DEVICE-TCH","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"z4Q8BTXmTbm3hz7XwsuwD","type":"MSG","position":{"x":360,"y":1280},"data":{"screen":{"id":"z4Q8BTXmTbm3hz7XwsuwD","type":"MSG","title":"Compatibility","headline":"Awesome!","copy":"Typing.com is designed to work on all devices without issue!","style":"standard"},"label":"Affirmation: Device","code":"MSG-DEVICE-TCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"z8WSPzMKAhRF2s9PlRI3o","type":"MC","position":{"x":720,"y":1280},"data":{"screen":{"id":"z8WSPzMKAhRF2s9PlRI3o","type":"MC","title":"Discovery","question":"How did you hear about us?","options":[{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-friend","label":"Friend/Colleague","value":"friend"}],"variableBinding":"discoverySource","variants":{"student":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"parent":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"adult":{"options":[{"id":"opt-coworker","label":"Coworker","value":"coworker"},{"id":"opt-friend","label":"Friend","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"teacher":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"school-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"district-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]}}},"label":"Discovery","code":"MC-DISCOVERY","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"dEGKk8P4NXGby2dJLGV4U","type":"INT","position":{"x":1080,"y":1280},"data":{"screen":{"id":"dEGKk8P4NXGby2dJLGV4U","type":"INT","title":"Plan Analysis","headline":"Building Your Plan...","duration":3000,"animation":"progress-bar","messages":[{"text":"Analyzing inputs..."},{"text":"Generating curriculum..."},{"text":"Finalizing..."}],"variants":{"student":{"headline":"Building Your Plan...","messages":[{"text":"Measuring your baseline..."},{"text":"Setting target speed..."},{"text":"Optimizing curriculum..."}]},"parent":{"headline":"Building Plan...","messages":[{"text":"Assessing typing level..."},{"text":"Calibrating tech literacy modules..."},{"text":"Addressing screen time concerns..."}]},"adult":{"headline":"Building Your Plan...","messages":[{"text":"Optimizing for your goal..."},{"text":"Tackling your barriers..."},{"text":"Finalizing roadmap..."}]},"teacher":{"headline":"Building Classroom Plan...","messages":[{"text":"Confirming standards alignment..."},{"text":"Loading curriculum..."},{"text":"Configuring rostering..."}]},"school-admin":{"headline":"Building School Plan...","messages":[{"text":"Scaling for student count..."},{"text":"Securing environment..."},{"text":"Enabling data retention..."}]},"district-admin":{"headline":"Building District Plan...","messages":[{"text":"Mapping schools to dashboard..."},{"text":"Verifying rostering protocols..."},{"text":"Preparing compliance docs..."}]}}},"label":"Plan Analysis","code":"INT-PLAN-ANALYSIS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"D5vbXzFO6XIP15o8o9Vpu","type":"FORM","position":{"x":0,"y":1600},"data":{"screen":{"id":"D5vbXzFO6XIP15o8o9Vpu","type":"FORM","title":"Create Account","headline":"Your Plan is Ready","copy":"Create details to save your plan.","collectFields":["email","password"],"showSocialLogin":true,"variants":{"student":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"parent":{"headline":"Save your child''s custom plan","copy":"We''ve generated your child''s personalized roadmap."},"adult":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"teacher":{"headline":"Your Classroom is Ready.","copy":"Create your free account to save your classroom settings."},"school-admin":{"headline":"Secure Your School''s Learning Environment.","copy":"Create an account to save your school''s data configuration."},"district-admin":{"headline":"Your Compliant District Plan.","copy":"Solve your privacy requirements and rostering infrastructure today."}}},"label":"Signup Form","code":"FORM-SIGNUP","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"KLMK2QCOuc9pHXnsPkRqv","type":"PAY","position":{"x":360,"y":1600},"data":{"screen":{"id":"KLMK2QCOuc9pHXnsPkRqv","type":"PAY","title":"PLUS Plan","headline":"Unlock Full Experience","valuePropositions":["Ad-free learning","Unlimited history","Certificates"],"primaryAction":{"label":"Upgrade","action":"upgrade"},"variants":{"student":{"headline":"Unlock the Full Experience","valuePropositions":["Premium Content","Zero Distractions"]},"parent":{"headline":"Unlock the Full Experience for [Child Name]","valuePropositions":["Premium Content","Zero Distractions"]},"adult":{"headline":"Your Typing.com PLUS plan is ready","valuePropositions":["Ad-free learning","Certificates","Unlimited history"]},"teacher":{"headline":"Unlock the Full Classroom Experience","valuePropositions":["Full Coding Curriculum","Ad-free environment","Student progress tracking"]},"school-admin":{"headline":"Your School''s Ad-Free Quote","valuePropositions":["100% Ad-Free Walled Garden","Unlimited Data Retention","School-wide SSO"]},"district-admin":{"headline":"Your District Implementation Roadmap","valuePropositions":["100% Ad-Free Walled Garden","Signed DPA Compliance","District Master Dashboard"]}}},"label":"Plus Paywall","code":"PAY-PLUS","isValid":true,"isSelected":false,"isHighlighted":false}}],"edges":[{"id":"e-mpiqwnjGRMnFvtWIEOuuY-qK1evsQXeUWwd7NjaVV9P","source":"mpiqwnjGRMnFvtWIEOuuY","target":"qK1evsQXeUWwd7NjaVV9P","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-qK1evsQXeUWwd7NjaVV9P-MqkAZMlHXyeJVIX-beuEI","source":"qK1evsQXeUWwd7NjaVV9P","target":"MqkAZMlHXyeJVIX-beuEI","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-MqkAZMlHXyeJVIX-beuEI-QTBA3UyuiLwVTnJc-huZ4","source":"MqkAZMlHXyeJVIX-beuEI","target":"QTBA3UyuiLwVTnJc-huZ4","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-QTBA3UyuiLwVTnJc-huZ4-RsIGPtB4-sHg9T02tjMFp","source":"QTBA3UyuiLwVTnJc-huZ4","target":"RsIGPtB4-sHg9T02tjMFp","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-RsIGPtB4-sHg9T02tjMFp-fVGD1xHfATnTGuJUAPkfm","source":"RsIGPtB4-sHg9T02tjMFp","target":"fVGD1xHfATnTGuJUAPkfm","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-fVGD1xHfATnTGuJUAPkfm-xs7PY_FCSB9DhLrSwDiZf","source":"fVGD1xHfATnTGuJUAPkfm","target":"xs7PY_FCSB9DhLrSwDiZf","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-xs7PY_FCSB9DhLrSwDiZf-3H3NNR6fxLgXDnb2Ado9K","source":"xs7PY_FCSB9DhLrSwDiZf","target":"3H3NNR6fxLgXDnb2Ado9K","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-3H3NNR6fxLgXDnb2Ado9K--TLFmmheGel62d6dGEp2h","source":"3H3NNR6fxLgXDnb2Ado9K","target":"-TLFmmheGel62d6dGEp2h","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e--TLFmmheGel62d6dGEp2h-wNuKey6CXNpCjkUXN_CtH","source":"-TLFmmheGel62d6dGEp2h","target":"wNuKey6CXNpCjkUXN_CtH","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-wNuKey6CXNpCjkUXN_CtH-VYTPFEVvNGA9KDq2tUBwM","source":"wNuKey6CXNpCjkUXN_CtH","target":"VYTPFEVvNGA9KDq2tUBwM","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-VYTPFEVvNGA9KDq2tUBwM-7TfmjSjxqfx8F-3PEBSZ1","source":"VYTPFEVvNGA9KDq2tUBwM","target":"7TfmjSjxqfx8F-3PEBSZ1","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-7TfmjSjxqfx8F-3PEBSZ1-ZhgAnBlibZ3Pj_ejjNHiH","source":"7TfmjSjxqfx8F-3PEBSZ1","target":"ZhgAnBlibZ3Pj_ejjNHiH","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-ZhgAnBlibZ3Pj_ejjNHiH-u5shAENLD74_4ojL4hxfi","source":"ZhgAnBlibZ3Pj_ejjNHiH","target":"u5shAENLD74_4ojL4hxfi","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-u5shAENLD74_4ojL4hxfi-Pv7RyxeLv_W1rvf6hzJSX","source":"u5shAENLD74_4ojL4hxfi","target":"Pv7RyxeLv_W1rvf6hzJSX","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-Pv7RyxeLv_W1rvf6hzJSX-MH0HgqnsCXm0kUak13pvi","source":"Pv7RyxeLv_W1rvf6hzJSX","target":"MH0HgqnsCXm0kUak13pvi","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-MH0HgqnsCXm0kUak13pvi-o0elfw5av6leqtzKdDT6j","source":"MH0HgqnsCXm0kUak13pvi","target":"o0elfw5av6leqtzKdDT6j","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-o0elfw5av6leqtzKdDT6j-z4Q8BTXmTbm3hz7XwsuwD","source":"o0elfw5av6leqtzKdDT6j","target":"z4Q8BTXmTbm3hz7XwsuwD","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-z4Q8BTXmTbm3hz7XwsuwD-z8WSPzMKAhRF2s9PlRI3o","source":"z4Q8BTXmTbm3hz7XwsuwD","target":"z8WSPzMKAhRF2s9PlRI3o","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-z8WSPzMKAhRF2s9PlRI3o-dEGKk8P4NXGby2dJLGV4U","source":"z8WSPzMKAhRF2s9PlRI3o","target":"dEGKk8P4NXGby2dJLGV4U","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-dEGKk8P4NXGby2dJLGV4U-D5vbXzFO6XIP15o8o9Vpu","source":"dEGKk8P4NXGby2dJLGV4U","target":"D5vbXzFO6XIP15o8o9Vpu","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-D5vbXzFO6XIP15o8o9Vpu-KLMK2QCOuc9pHXnsPkRqv","source":"D5vbXzFO6XIP15o8o9Vpu","target":"KLMK2QCOuc9pHXnsPkRqv","type":"smoothstep","animated":true,"data":{"isDefault":true}}]}'::jsonb, profile_id)
  RETURNING id INTO version_id;

  UPDATE flows SET current_version_id = version_id WHERE id = new_flow_id;

  -- Flow: Individual Student
  INSERT INTO flows (organization_id, name, description, created_by)
  VALUES (org_id, 'Individual Student', 'Imported from Blueprint', profile_id)
  RETURNING id INTO new_flow_id;

  INSERT INTO flow_versions (flow_id, version_name, data, created_by)
  VALUES (new_flow_id, 'Initial Seed', '{"nodes":[{"id":"6PKsrbwA-blclis6HLJvg","type":"MC","position":{"x":0,"y":0},"data":{"screen":{"id":"6PKsrbwA-blclis6HLJvg","type":"MC","title":"Who are you?","question":"I am a...","options":[{"id":"opt-stu","label":"Student","value":"student"},{"id":"opt-par","label":"Parent","value":"parent"},{"id":"opt-adl","label":"Adult Learner","value":"adult"}],"variableBinding":"role"},"label":"Individual Gatekeeper","code":"MC-GATEKEEPER-IND","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"5BhFTRE-luFuxaHCKp1OQ","type":"MC","position":{"x":360,"y":0},"data":{"screen":{"id":"5BhFTRE-luFuxaHCKp1OQ","type":"MC","title":"Class Code","question":"Do you have a class code from your teacher?","options":[{"id":"opt-yes","label":"Yes","value":"yes","nextScreenId":"CODE:EXIT-CLASS-CODE"},{"id":"opt-no","label":"No","value":"no"}],"variableBinding":"hasClassCode"},"label":"Class Code Check","code":"MC-CLASSCODE-STU","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"6R5gq5nT4hbuV6Tp_LK3c","type":"MSG","position":{"x":720,"y":0},"data":{"screen":{"id":"6R5gq5nT4hbuV6Tp_LK3c","type":"MSG","title":"Social Proof","style":"overlay","copy":"You are joining 50 million users who trust Typing.com.","headline":"Great choice!"},"label":"Social Proof","code":"MSG-SOCIAL-PROOF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"F2TgPxl6cPwRBptDfhliy","type":"MC","position":{"x":1080,"y":0},"data":{"screen":{"id":"F2TgPxl6cPwRBptDfhliy","type":"MC","title":"Purpose","question":"Why are you looking to improve your typing today?","options":[{"id":"opt-school","label":"Success in School/College","value":"school"},{"id":"opt-coding","label":"Tech & Coding Interests","value":"coding"},{"id":"opt-fun","label":"Just for Fun & Games","value":"fun"},{"id":"opt-growth","label":"Personal Growth","value":"growth"}],"variableBinding":"purpose","variants":{"student":{"question":"Why are you looking to improve your typing today?","options":[{"id":"opt-school","label":"Success in School/College","value":"school"},{"id":"opt-coding","label":"Tech & Coding Interests","value":"coding"},{"id":"opt-fun","label":"Just for Fun & Games","value":"fun"},{"id":"opt-growth","label":"Personal Growth","value":"growth"}]},"adult":{"question":"What is your primary goal today?","options":[{"id":"opt-technique","label":"I want to learn proper technique from scratch","value":"technique"},{"id":"opt-speed","label":"I want to boost my existing speed and accuracy","value":"speed"},{"id":"opt-test","label":"I just want to take a quick typing test","value":"test"}]}}},"label":"Purpose Assessment","code":"MC-PURPOSE","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"zEBLTRb2X9TU9Vh2wNjJU","type":"MSG","position":{"x":0,"y":320},"data":{"screen":{"id":"zEBLTRb2X9TU9Vh2wNjJU","type":"MSG","title":"Great Goal","headline":"Great goal.","copy":"Many students use our premium coding and test prep units to get ahead.","style":"standard"},"label":"Purpose Affirmation","code":"MSG-PURPOSE-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"BNR3P0qdjwC2S3r_n_4N2","type":"TEST","position":{"x":360,"y":320},"data":{"screen":{"id":"BNR3P0qdjwC2S3r_n_4N2","type":"TEST","title":"Baseline Test","prompt":"Let''s get a baseline. Type the sentence below:","testText":"The quick brown fox jumps over the lazy dog.","minDuration":0,"variableBindings":{"wpm":"currentWpm"}},"label":"Mini Typing Test","code":"TEST-BASELINE-ALL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"m1x8vumBecsCCvfQe84Ff","type":"MSG","position":{"x":720,"y":320},"data":{"screen":{"id":"m1x8vumBecsCCvfQe84Ff","type":"MSG","title":"Baseline Result","headline":"Not bad!","copy":"You clocked in at [Current WPM] WPM. We can 2x that speed with practice.","style":"standard"},"label":"Baseline Result","code":"MSG-BASELINE-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"U1xxUllyzTEtgAuDUcuOT","type":"MC","position":{"x":1080,"y":320},"data":{"screen":{"id":"U1xxUllyzTEtgAuDUcuOT","type":"MC","title":"Target Speed","question":"What is your target typing speed?","options":[{"id":"opt-40","label":"40 WPM","value":"40"},{"id":"opt-60","label":"60 WPM","value":"60"},{"id":"opt-80","label":"80 WPM","value":"80"},{"id":"opt-100","label":"100+ WPM","value":"100+"}],"variableBinding":"targetSpeed"},"label":"Target Speed","code":"MC-TARGET-ALL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"QXFMleICNbZQWbj0kQ6_e","type":"MSG","position":{"x":0,"y":640},"data":{"screen":{"id":"QXFMleICNbZQWbj0kQ6_e","type":"MSG","title":"Target Set","headline":"We''ve got you.","copy":"We''ll track your progress every step of the way to ensure you hit that goal.","style":"standard"},"label":"Target Set","code":"MSG-TARGET-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"ozKYaXi81HumS3VGOTZLA","type":"MC","position":{"x":360,"y":640},"data":{"screen":{"id":"ozKYaXi81HumS3VGOTZLA","type":"MC","title":"Barriers","question":"What usually stops you from practicing?","options":[{"id":"opt-distract","label":"Distractions/Ads","value":"distractions"},{"id":"opt-bored","label":"Boredom","value":"boredom"},{"id":"opt-time","label":"Lack of Time","value":"time"}],"variableBinding":"barrier","variants":{"student":{"question":"What usually stops you from practicing?","options":[{"id":"opt-distract","label":"Distractions/Ads","value":"distractions"},{"id":"opt-bored","label":"Boredom","value":"boredom"},{"id":"opt-time","label":"Lack of Time","value":"time"}]},"parent":{"question":"What usually stops them from practicing?","options":[{"id":"opt-distract","label":"Distractions/Ads","value":"distractions"},{"id":"opt-bored","label":"Boredom","value":"boredom"},{"id":"opt-time","label":"Lack of Time","value":"time"}]},"adult":{"question":"What usually stops you from practicing?","options":[{"id":"opt-distract","label":"Distractions/Ads","value":"distractions"},{"id":"opt-bored","label":"Boredom","value":"boredom"},{"id":"opt-time","label":"Lack of Time","value":"time"}]}}},"label":"Barriers","code":"MC-BARRIERS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"5tMKxgLKlVE3SETbYRszO","type":"MSG","position":{"x":720,"y":640},"data":{"screen":{"id":"5tMKxgLKlVE3SETbYRszO","type":"MSG","title":"We Get It","headline":"We get it.","copy":"That''s why PLUS removes all video ads to keep you focused.","style":"standard","variants":{"student":{"headline":"We get it.","copy":"That''s why PLUS removes all video ads to keep you focused."},"parent":{"headline":"We get it.","copy":"That''s why PLUS removes all video ads to keep them focused."},"adult":{"headline":"We get it.","copy":"That''s why PLUS removes all video ads to keep you in a ''Flow State''."}}},"label":"Barriers Solution","code":"MSG-BARRIERS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"0ZOy2utfSnackgbhmgq51","type":"MC","position":{"x":1080,"y":640},"data":{"screen":{"id":"0ZOy2utfSnackgbhmgq51","type":"MC","title":"Motivation","question":"What keeps you motivated?","options":[{"id":"opt-streaks","label":"Streaks","value":"streaks"},{"id":"opt-games","label":"Games","value":"games"},{"id":"opt-track","label":"Progress Tracking","value":"tracking"}],"variableBinding":"motivation","variants":{"student":{"question":"What keeps you motivated when you''re learning?","options":[{"id":"opt-streaks","label":"Streaks","value":"streaks"},{"id":"opt-games","label":"Games","value":"games"},{"id":"opt-track","label":"Progress Tracking","value":"tracking"}]},"parent":{"question":"What motivates them to learn a new skill?","options":[{"id":"opt-fun","label":"Fun","value":"fun"},{"id":"opt-grades","label":"Grades","value":"grades"},{"id":"opt-rewards","label":"Rewards","value":"rewards"}]},"adult":{"question":"What keeps you motivated when you''re learning?","options":[{"id":"opt-streaks","label":"Streaks","value":"streaks"},{"id":"opt-certificates","label":"Certificates","value":"certificates"}]}}},"label":"Motivation","code":"MC-MOTIVATION","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"yB61NjNobvovAimHa3vJT","type":"MSG","position":{"x":0,"y":960},"data":{"screen":{"id":"yB61NjNobvovAimHa3vJT","type":"MSG","title":"Perfect Match","headline":"Perfect!","copy":"Typing.com uses gamified learning to keep you engaged.","style":"standard"},"label":"Motivation Confirmed","code":"MSG-MOTIVATION-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"08lrtYTUXibqi87iQdAk-","type":"MC","position":{"x":360,"y":960},"data":{"screen":{"id":"08lrtYTUXibqi87iQdAk-","type":"MC","title":"Discovery","question":"How did you hear about us?","options":[{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-friend","label":"Friend/Colleague","value":"friend"}],"variableBinding":"discoverySource","variants":{"student":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"parent":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"adult":{"options":[{"id":"opt-coworker","label":"Coworker","value":"coworker"},{"id":"opt-friend","label":"Friend","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"teacher":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"school-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"district-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]}}},"label":"Discovery","code":"MC-DISCOVERY","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"Fjtc_iwTB7ZECz0y5JT4Q","type":"MC","position":{"x":720,"y":960},"data":{"screen":{"id":"Fjtc_iwTB7ZECz0y5JT4Q","type":"MC","title":"Daily Goal","question":"How much time can you commit daily?","options":[{"id":"opt-5","label":"5 Mins","value":"5"},{"id":"opt-15","label":"15 Mins","value":"15"},{"id":"opt-30","label":"30 Mins","value":"30"}],"variableBinding":"dailyGoal","variants":{"student":{"question":"How much time can you commit to practicing each day?","options":[{"id":"opt-5","label":"5 Mins","value":"5"},{"id":"opt-15","label":"15 Mins","value":"15"},{"id":"opt-30","label":"30 Mins","value":"30"}]},"parent":{"question":"How much time will they be able to use Typing.com?","options":[{"id":"opt-5","label":"5 Mins","value":"5"},{"id":"opt-15","label":"15 Mins","value":"15"},{"id":"opt-30","label":"30 Mins","value":"30"}]},"adult":{"question":"How much time can you commit?","options":[{"id":"opt-5","label":"5 Mins","value":"5"},{"id":"opt-15","label":"15 Mins","value":"15"},{"id":"opt-30","label":"30 Mins","value":"30"}]}}},"label":"Daily Goal","code":"MC-DAILYGOAL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"gHV9wEuHn1udC_OMiuT8c","type":"MSG","position":{"x":1080,"y":960},"data":{"screen":{"id":"gHV9wEuHn1udC_OMiuT8c","type":"MSG","title":"Goal Activated","headline":"Great commitment!","copy":"Daily Goal tracker activated. Consistency is the secret to doubling your speed.","style":"standard"},"label":"Goal Confirmed","code":"MSG-DAILYGOAL-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"rao1hiMsAFXkqHC0Kf4gv","type":"INT","position":{"x":0,"y":1280},"data":{"screen":{"id":"rao1hiMsAFXkqHC0Kf4gv","type":"INT","title":"Plan Analysis","headline":"Building Your Plan...","duration":3000,"animation":"progress-bar","messages":[{"text":"Analyzing inputs..."},{"text":"Generating curriculum..."},{"text":"Finalizing..."}],"variants":{"student":{"headline":"Building Your Plan...","messages":[{"text":"Measuring your baseline..."},{"text":"Setting target speed..."},{"text":"Optimizing curriculum..."}]},"parent":{"headline":"Building Plan...","messages":[{"text":"Assessing typing level..."},{"text":"Calibrating tech literacy modules..."},{"text":"Addressing screen time concerns..."}]},"adult":{"headline":"Building Your Plan...","messages":[{"text":"Optimizing for your goal..."},{"text":"Tackling your barriers..."},{"text":"Finalizing roadmap..."}]},"teacher":{"headline":"Building Classroom Plan...","messages":[{"text":"Confirming standards alignment..."},{"text":"Loading curriculum..."},{"text":"Configuring rostering..."}]},"school-admin":{"headline":"Building School Plan...","messages":[{"text":"Scaling for student count..."},{"text":"Securing environment..."},{"text":"Enabling data retention..."}]},"district-admin":{"headline":"Building District Plan...","messages":[{"text":"Mapping schools to dashboard..."},{"text":"Verifying rostering protocols..."},{"text":"Preparing compliance docs..."}]}}},"label":"Plan Analysis","code":"INT-PLAN-ANALYSIS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"U7InUXiLG1u_qF9LD7IU4","type":"FORM","position":{"x":360,"y":1280},"data":{"screen":{"id":"U7InUXiLG1u_qF9LD7IU4","type":"FORM","title":"Create Account","headline":"Your Plan is Ready","copy":"Create details to save your plan.","collectFields":["email","password"],"showSocialLogin":true,"variants":{"student":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"parent":{"headline":"Save your child''s custom plan","copy":"We''ve generated your child''s personalized roadmap."},"adult":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"teacher":{"headline":"Your Classroom is Ready.","copy":"Create your free account to save your classroom settings."},"school-admin":{"headline":"Secure Your School''s Learning Environment.","copy":"Create an account to save your school''s data configuration."},"district-admin":{"headline":"Your Compliant District Plan.","copy":"Solve your privacy requirements and rostering infrastructure today."}}},"label":"Signup Form","code":"FORM-SIGNUP","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"FJRDcL-5Gw2Mmf9hjNmTG","type":"PAY","position":{"x":720,"y":1280},"data":{"screen":{"id":"FJRDcL-5Gw2Mmf9hjNmTG","type":"PAY","title":"PLUS Plan","headline":"Unlock Full Experience","valuePropositions":["Ad-free learning","Unlimited history","Certificates"],"primaryAction":{"label":"Upgrade","action":"upgrade"},"variants":{"student":{"headline":"Unlock the Full Experience","valuePropositions":["Premium Content","Zero Distractions"]},"parent":{"headline":"Unlock the Full Experience for [Child Name]","valuePropositions":["Premium Content","Zero Distractions"]},"adult":{"headline":"Your Typing.com PLUS plan is ready","valuePropositions":["Ad-free learning","Certificates","Unlimited history"]},"teacher":{"headline":"Unlock the Full Classroom Experience","valuePropositions":["Full Coding Curriculum","Ad-free environment","Student progress tracking"]},"school-admin":{"headline":"Your School''s Ad-Free Quote","valuePropositions":["100% Ad-Free Walled Garden","Unlimited Data Retention","School-wide SSO"]},"district-admin":{"headline":"Your District Implementation Roadmap","valuePropositions":["100% Ad-Free Walled Garden","Signed DPA Compliance","District Master Dashboard"]}}},"label":"Plus Paywall","code":"PAY-PLUS","isValid":true,"isSelected":false,"isHighlighted":false}}],"edges":[{"id":"e-6PKsrbwA-blclis6HLJvg-5BhFTRE-luFuxaHCKp1OQ","source":"6PKsrbwA-blclis6HLJvg","target":"5BhFTRE-luFuxaHCKp1OQ","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-5BhFTRE-luFuxaHCKp1OQ-6R5gq5nT4hbuV6Tp_LK3c","source":"5BhFTRE-luFuxaHCKp1OQ","target":"6R5gq5nT4hbuV6Tp_LK3c","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-6R5gq5nT4hbuV6Tp_LK3c-F2TgPxl6cPwRBptDfhliy","source":"6R5gq5nT4hbuV6Tp_LK3c","target":"F2TgPxl6cPwRBptDfhliy","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-F2TgPxl6cPwRBptDfhliy-zEBLTRb2X9TU9Vh2wNjJU","source":"F2TgPxl6cPwRBptDfhliy","target":"zEBLTRb2X9TU9Vh2wNjJU","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-zEBLTRb2X9TU9Vh2wNjJU-BNR3P0qdjwC2S3r_n_4N2","source":"zEBLTRb2X9TU9Vh2wNjJU","target":"BNR3P0qdjwC2S3r_n_4N2","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-BNR3P0qdjwC2S3r_n_4N2-m1x8vumBecsCCvfQe84Ff","source":"BNR3P0qdjwC2S3r_n_4N2","target":"m1x8vumBecsCCvfQe84Ff","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-m1x8vumBecsCCvfQe84Ff-U1xxUllyzTEtgAuDUcuOT","source":"m1x8vumBecsCCvfQe84Ff","target":"U1xxUllyzTEtgAuDUcuOT","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-U1xxUllyzTEtgAuDUcuOT-QXFMleICNbZQWbj0kQ6_e","source":"U1xxUllyzTEtgAuDUcuOT","target":"QXFMleICNbZQWbj0kQ6_e","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-QXFMleICNbZQWbj0kQ6_e-ozKYaXi81HumS3VGOTZLA","source":"QXFMleICNbZQWbj0kQ6_e","target":"ozKYaXi81HumS3VGOTZLA","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-ozKYaXi81HumS3VGOTZLA-5tMKxgLKlVE3SETbYRszO","source":"ozKYaXi81HumS3VGOTZLA","target":"5tMKxgLKlVE3SETbYRszO","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-5tMKxgLKlVE3SETbYRszO-0ZOy2utfSnackgbhmgq51","source":"5tMKxgLKlVE3SETbYRszO","target":"0ZOy2utfSnackgbhmgq51","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-0ZOy2utfSnackgbhmgq51-yB61NjNobvovAimHa3vJT","source":"0ZOy2utfSnackgbhmgq51","target":"yB61NjNobvovAimHa3vJT","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-yB61NjNobvovAimHa3vJT-08lrtYTUXibqi87iQdAk-","source":"yB61NjNobvovAimHa3vJT","target":"08lrtYTUXibqi87iQdAk-","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-08lrtYTUXibqi87iQdAk--Fjtc_iwTB7ZECz0y5JT4Q","source":"08lrtYTUXibqi87iQdAk-","target":"Fjtc_iwTB7ZECz0y5JT4Q","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-Fjtc_iwTB7ZECz0y5JT4Q-gHV9wEuHn1udC_OMiuT8c","source":"Fjtc_iwTB7ZECz0y5JT4Q","target":"gHV9wEuHn1udC_OMiuT8c","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-gHV9wEuHn1udC_OMiuT8c-rao1hiMsAFXkqHC0Kf4gv","source":"gHV9wEuHn1udC_OMiuT8c","target":"rao1hiMsAFXkqHC0Kf4gv","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-rao1hiMsAFXkqHC0Kf4gv-U7InUXiLG1u_qF9LD7IU4","source":"rao1hiMsAFXkqHC0Kf4gv","target":"U7InUXiLG1u_qF9LD7IU4","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-U7InUXiLG1u_qF9LD7IU4-FJRDcL-5Gw2Mmf9hjNmTG","source":"U7InUXiLG1u_qF9LD7IU4","target":"FJRDcL-5Gw2Mmf9hjNmTG","type":"smoothstep","animated":true,"data":{"isDefault":true}}]}'::jsonb, profile_id)
  RETURNING id INTO version_id;

  UPDATE flows SET current_version_id = version_id WHERE id = new_flow_id;

  -- Flow: Individual Parent
  INSERT INTO flows (organization_id, name, description, created_by)
  VALUES (org_id, 'Individual Parent', 'Imported from Blueprint', profile_id)
  RETURNING id INTO new_flow_id;

  INSERT INTO flow_versions (flow_id, version_name, data, created_by)
  VALUES (new_flow_id, 'Initial Seed', '{"nodes":[{"id":"bp3jpnvvhqj1iweOJQlRD","type":"MC","position":{"x":0,"y":0},"data":{"screen":{"id":"bp3jpnvvhqj1iweOJQlRD","type":"MC","title":"Who are you?","question":"I am a...","options":[{"id":"opt-stu","label":"Student","value":"student"},{"id":"opt-par","label":"Parent","value":"parent"},{"id":"opt-adl","label":"Adult Learner","value":"adult"}],"variableBinding":"role"},"label":"Individual Gatekeeper","code":"MC-GATEKEEPER-IND","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"FtslnnTc74qNARrYLWg6P","type":"MSG","position":{"x":360,"y":0},"data":{"screen":{"id":"FtslnnTc74qNARrYLWg6P","type":"MSG","title":"Social Proof","style":"overlay","copy":"You are joining 50 million users who trust Typing.com.","headline":"Great choice!"},"label":"Social Proof","code":"MSG-SOCIAL-PROOF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"VaK-Rv_40SqmPYzfIAr12","type":"TXT","position":{"x":720,"y":0},"data":{"screen":{"id":"VaK-Rv_40SqmPYzfIAr12","type":"TXT","title":"Child''s Name","prompt":"What is your child''s first name?","placeholder":"e.g. Noah","inputType":"text","variableBinding":"childName"},"label":"Child''s Name","code":"TXT-CHILDNAME-PAR","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"JzyiTv4yB4-7WtULK0m-G","type":"MC","position":{"x":1080,"y":0},"data":{"screen":{"id":"JzyiTv4yB4-7WtULK0m-G","type":"MC","title":"Experience Level","question":"What is your child''s typing experience level?","options":[{"id":"opt-new","label":"Brand New","value":"new"},{"id":"opt-peck","label":"Dabbles / Hunts & Pecks","value":"dabbles"},{"id":"opt-fluent","label":"Fluent","value":"fluent"}],"variableBinding":"experienceLevel"},"label":"Child''s Experience","code":"MC-EXPERIENCE-PAR","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"2fo24Me6t3SN1xUWvsXbV","type":"MSG","position":{"x":0,"y":320},"data":{"screen":{"id":"2fo24Me6t3SN1xUWvsXbV","type":"MSG","title":"Perfect Match","headline":"Perfect.","copy":"Typing.com has standards-aligned curriculum for every typing level.","style":"standard"},"label":"Experience Confirmed","code":"MSG-EXPERIENCE-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"mu4lenNaDqmWGBRguuPq2","type":"MC","position":{"x":360,"y":320},"data":{"screen":{"id":"mu4lenNaDqmWGBRguuPq2","type":"MC","title":"Tech Skills","question":"How would you rate their current Tech Literacy?","options":[{"id":"opt-beg","label":"Beginner/None","value":"beginner"},{"id":"opt-int","label":"Intermediate","value":"intermediate"},{"id":"opt-adv","label":"Advanced","value":"advanced"}],"variableBinding":"techSkillsLevel"},"label":"Tech Skills","code":"MC-TECHSKILLS-PAR","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"DE82qZgkJkTY1Mu-GLId-","type":"MSG","position":{"x":720,"y":320},"data":{"screen":{"id":"DE82qZgkJkTY1Mu-GLId-","type":"MSG","title":"Skills Configured","headline":"Excellent.","copy":"Our curriculum is designed specifically to build these future-ready skills, including Beyond Typing modules in our PLUS plan.","style":"standard"},"label":"Skills Confirmed","code":"MSG-TECHSKILLS-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"ukgloDQG1VRIU9GenCC_n","type":"MC","position":{"x":1080,"y":320},"data":{"screen":{"id":"ukgloDQG1VRIU9GenCC_n","type":"MC","title":"Screen Time","question":"What is your biggest concern regarding screen time?","options":[{"id":"opt-ads","label":"Exposure to Ads/Tracking","value":"ads"},{"id":"opt-focus","label":"Lack of Focus","value":"focus"},{"id":"opt-waste","label":"Wasting Time","value":"waste"},{"id":"opt-safe","label":"Safety","value":"safety"}],"variableBinding":"screenTimeConcern"},"label":"Screen Time Concern","code":"MC-SCREENTIME-PAR","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"lkMmPtM7IDDBiV9L4_Wa2","type":"MSG","position":{"x":0,"y":640},"data":{"screen":{"id":"lkMmPtM7IDDBiV9L4_Wa2","type":"MSG","title":"Safety First","headline":"Understood.","copy":"That''s why PLUS is 100% Ad-Freeâ€”eliminating distractions for safe, focused learning.","style":"standard"},"label":"Safety Confirmed","code":"MSG-SCREENTIME-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"0MjLAo-HoIlEXbbBjePa2","type":"MC","position":{"x":360,"y":640},"data":{"screen":{"id":"0MjLAo-HoIlEXbbBjePa2","type":"MC","title":"Barriers","question":"What usually stops you from practicing?","options":[{"id":"opt-distract","label":"Distractions/Ads","value":"distractions"},{"id":"opt-bored","label":"Boredom","value":"boredom"},{"id":"opt-time","label":"Lack of Time","value":"time"}],"variableBinding":"barrier","variants":{"student":{"question":"What usually stops you from practicing?","options":[{"id":"opt-distract","label":"Distractions/Ads","value":"distractions"},{"id":"opt-bored","label":"Boredom","value":"boredom"},{"id":"opt-time","label":"Lack of Time","value":"time"}]},"parent":{"question":"What usually stops them from practicing?","options":[{"id":"opt-distract","label":"Distractions/Ads","value":"distractions"},{"id":"opt-bored","label":"Boredom","value":"boredom"},{"id":"opt-time","label":"Lack of Time","value":"time"}]},"adult":{"question":"What usually stops you from practicing?","options":[{"id":"opt-distract","label":"Distractions/Ads","value":"distractions"},{"id":"opt-bored","label":"Boredom","value":"boredom"},{"id":"opt-time","label":"Lack of Time","value":"time"}]}}},"label":"Barriers","code":"MC-BARRIERS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"zZdqEbyIAd7gXDGMXG47j","type":"MSG","position":{"x":720,"y":640},"data":{"screen":{"id":"zZdqEbyIAd7gXDGMXG47j","type":"MSG","title":"We Get It","headline":"We get it.","copy":"That''s why PLUS removes all video ads to keep you focused.","style":"standard","variants":{"student":{"headline":"We get it.","copy":"That''s why PLUS removes all video ads to keep you focused."},"parent":{"headline":"We get it.","copy":"That''s why PLUS removes all video ads to keep them focused."},"adult":{"headline":"We get it.","copy":"That''s why PLUS removes all video ads to keep you in a ''Flow State''."}}},"label":"Barriers Solution","code":"MSG-BARRIERS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"fetuybTDOZR0YAMt-_o46","type":"MC","position":{"x":1080,"y":640},"data":{"screen":{"id":"fetuybTDOZR0YAMt-_o46","type":"MC","title":"Motivation","question":"What keeps you motivated?","options":[{"id":"opt-streaks","label":"Streaks","value":"streaks"},{"id":"opt-games","label":"Games","value":"games"},{"id":"opt-track","label":"Progress Tracking","value":"tracking"}],"variableBinding":"motivation","variants":{"student":{"question":"What keeps you motivated when you''re learning?","options":[{"id":"opt-streaks","label":"Streaks","value":"streaks"},{"id":"opt-games","label":"Games","value":"games"},{"id":"opt-track","label":"Progress Tracking","value":"tracking"}]},"parent":{"question":"What motivates them to learn a new skill?","options":[{"id":"opt-fun","label":"Fun","value":"fun"},{"id":"opt-grades","label":"Grades","value":"grades"},{"id":"opt-rewards","label":"Rewards","value":"rewards"}]},"adult":{"question":"What keeps you motivated when you''re learning?","options":[{"id":"opt-streaks","label":"Streaks","value":"streaks"},{"id":"opt-certificates","label":"Certificates","value":"certificates"}]}}},"label":"Motivation","code":"MC-MOTIVATION","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"rCmLr7XzadLDYUr6KVF0k","type":"MC","position":{"x":0,"y":960},"data":{"screen":{"id":"rCmLr7XzadLDYUr6KVF0k","type":"MC","title":"Daily Goal","question":"How much time can you commit daily?","options":[{"id":"opt-5","label":"5 Mins","value":"5"},{"id":"opt-15","label":"15 Mins","value":"15"},{"id":"opt-30","label":"30 Mins","value":"30"}],"variableBinding":"dailyGoal","variants":{"student":{"question":"How much time can you commit to practicing each day?","options":[{"id":"opt-5","label":"5 Mins","value":"5"},{"id":"opt-15","label":"15 Mins","value":"15"},{"id":"opt-30","label":"30 Mins","value":"30"}]},"parent":{"question":"How much time will they be able to use Typing.com?","options":[{"id":"opt-5","label":"5 Mins","value":"5"},{"id":"opt-15","label":"15 Mins","value":"15"},{"id":"opt-30","label":"30 Mins","value":"30"}]},"adult":{"question":"How much time can you commit?","options":[{"id":"opt-5","label":"5 Mins","value":"5"},{"id":"opt-15","label":"15 Mins","value":"15"},{"id":"opt-30","label":"30 Mins","value":"30"}]}}},"label":"Daily Goal","code":"MC-DAILYGOAL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"dh3wAAsulkj_zvEezP3UC","type":"MC","position":{"x":360,"y":960},"data":{"screen":{"id":"dh3wAAsulkj_zvEezP3UC","type":"MC","title":"Discovery","question":"How did you hear about us?","options":[{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-friend","label":"Friend/Colleague","value":"friend"}],"variableBinding":"discoverySource","variants":{"student":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"parent":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"adult":{"options":[{"id":"opt-coworker","label":"Coworker","value":"coworker"},{"id":"opt-friend","label":"Friend","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"teacher":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"school-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"district-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]}}},"label":"Discovery","code":"MC-DISCOVERY","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"ap6Lpcx7cB9nFrGE62kCE","type":"INT","position":{"x":720,"y":960},"data":{"screen":{"id":"ap6Lpcx7cB9nFrGE62kCE","type":"INT","title":"Plan Analysis","headline":"Building Your Plan...","duration":3000,"animation":"progress-bar","messages":[{"text":"Analyzing inputs..."},{"text":"Generating curriculum..."},{"text":"Finalizing..."}],"variants":{"student":{"headline":"Building Your Plan...","messages":[{"text":"Measuring your baseline..."},{"text":"Setting target speed..."},{"text":"Optimizing curriculum..."}]},"parent":{"headline":"Building Plan...","messages":[{"text":"Assessing typing level..."},{"text":"Calibrating tech literacy modules..."},{"text":"Addressing screen time concerns..."}]},"adult":{"headline":"Building Your Plan...","messages":[{"text":"Optimizing for your goal..."},{"text":"Tackling your barriers..."},{"text":"Finalizing roadmap..."}]},"teacher":{"headline":"Building Classroom Plan...","messages":[{"text":"Confirming standards alignment..."},{"text":"Loading curriculum..."},{"text":"Configuring rostering..."}]},"school-admin":{"headline":"Building School Plan...","messages":[{"text":"Scaling for student count..."},{"text":"Securing environment..."},{"text":"Enabling data retention..."}]},"district-admin":{"headline":"Building District Plan...","messages":[{"text":"Mapping schools to dashboard..."},{"text":"Verifying rostering protocols..."},{"text":"Preparing compliance docs..."}]}}},"label":"Plan Analysis","code":"INT-PLAN-ANALYSIS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"jEMg1yU8O3N8S0BER1FCG","type":"FORM","position":{"x":1080,"y":960},"data":{"screen":{"id":"jEMg1yU8O3N8S0BER1FCG","type":"FORM","title":"Create Account","headline":"Your Plan is Ready","copy":"Create details to save your plan.","collectFields":["email","password"],"showSocialLogin":true,"variants":{"student":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"parent":{"headline":"Save your child''s custom plan","copy":"We''ve generated your child''s personalized roadmap."},"adult":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"teacher":{"headline":"Your Classroom is Ready.","copy":"Create your free account to save your classroom settings."},"school-admin":{"headline":"Secure Your School''s Learning Environment.","copy":"Create an account to save your school''s data configuration."},"district-admin":{"headline":"Your Compliant District Plan.","copy":"Solve your privacy requirements and rostering infrastructure today."}}},"label":"Signup Form","code":"FORM-SIGNUP","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"djUq4U1RUq2YRRVd3tcld","type":"PAY","position":{"x":0,"y":1280},"data":{"screen":{"id":"djUq4U1RUq2YRRVd3tcld","type":"PAY","title":"PLUS Plan","headline":"Unlock Full Experience","valuePropositions":["Ad-free learning","Unlimited history","Certificates"],"primaryAction":{"label":"Upgrade","action":"upgrade"},"variants":{"student":{"headline":"Unlock the Full Experience","valuePropositions":["Premium Content","Zero Distractions"]},"parent":{"headline":"Unlock the Full Experience for [Child Name]","valuePropositions":["Premium Content","Zero Distractions"]},"adult":{"headline":"Your Typing.com PLUS plan is ready","valuePropositions":["Ad-free learning","Certificates","Unlimited history"]},"teacher":{"headline":"Unlock the Full Classroom Experience","valuePropositions":["Full Coding Curriculum","Ad-free environment","Student progress tracking"]},"school-admin":{"headline":"Your School''s Ad-Free Quote","valuePropositions":["100% Ad-Free Walled Garden","Unlimited Data Retention","School-wide SSO"]},"district-admin":{"headline":"Your District Implementation Roadmap","valuePropositions":["100% Ad-Free Walled Garden","Signed DPA Compliance","District Master Dashboard"]}}},"label":"Plus Paywall","code":"PAY-PLUS","isValid":true,"isSelected":false,"isHighlighted":false}}],"edges":[{"id":"e-bp3jpnvvhqj1iweOJQlRD-FtslnnTc74qNARrYLWg6P","source":"bp3jpnvvhqj1iweOJQlRD","target":"FtslnnTc74qNARrYLWg6P","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-FtslnnTc74qNARrYLWg6P-VaK-Rv_40SqmPYzfIAr12","source":"FtslnnTc74qNARrYLWg6P","target":"VaK-Rv_40SqmPYzfIAr12","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-VaK-Rv_40SqmPYzfIAr12-JzyiTv4yB4-7WtULK0m-G","source":"VaK-Rv_40SqmPYzfIAr12","target":"JzyiTv4yB4-7WtULK0m-G","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-JzyiTv4yB4-7WtULK0m-G-2fo24Me6t3SN1xUWvsXbV","source":"JzyiTv4yB4-7WtULK0m-G","target":"2fo24Me6t3SN1xUWvsXbV","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-2fo24Me6t3SN1xUWvsXbV-mu4lenNaDqmWGBRguuPq2","source":"2fo24Me6t3SN1xUWvsXbV","target":"mu4lenNaDqmWGBRguuPq2","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-mu4lenNaDqmWGBRguuPq2-DE82qZgkJkTY1Mu-GLId-","source":"mu4lenNaDqmWGBRguuPq2","target":"DE82qZgkJkTY1Mu-GLId-","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-DE82qZgkJkTY1Mu-GLId--ukgloDQG1VRIU9GenCC_n","source":"DE82qZgkJkTY1Mu-GLId-","target":"ukgloDQG1VRIU9GenCC_n","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-ukgloDQG1VRIU9GenCC_n-lkMmPtM7IDDBiV9L4_Wa2","source":"ukgloDQG1VRIU9GenCC_n","target":"lkMmPtM7IDDBiV9L4_Wa2","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-lkMmPtM7IDDBiV9L4_Wa2-0MjLAo-HoIlEXbbBjePa2","source":"lkMmPtM7IDDBiV9L4_Wa2","target":"0MjLAo-HoIlEXbbBjePa2","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-0MjLAo-HoIlEXbbBjePa2-zZdqEbyIAd7gXDGMXG47j","source":"0MjLAo-HoIlEXbbBjePa2","target":"zZdqEbyIAd7gXDGMXG47j","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-zZdqEbyIAd7gXDGMXG47j-fetuybTDOZR0YAMt-_o46","source":"zZdqEbyIAd7gXDGMXG47j","target":"fetuybTDOZR0YAMt-_o46","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-fetuybTDOZR0YAMt-_o46-rCmLr7XzadLDYUr6KVF0k","source":"fetuybTDOZR0YAMt-_o46","target":"rCmLr7XzadLDYUr6KVF0k","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-rCmLr7XzadLDYUr6KVF0k-dh3wAAsulkj_zvEezP3UC","source":"rCmLr7XzadLDYUr6KVF0k","target":"dh3wAAsulkj_zvEezP3UC","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-dh3wAAsulkj_zvEezP3UC-ap6Lpcx7cB9nFrGE62kCE","source":"dh3wAAsulkj_zvEezP3UC","target":"ap6Lpcx7cB9nFrGE62kCE","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-ap6Lpcx7cB9nFrGE62kCE-jEMg1yU8O3N8S0BER1FCG","source":"ap6Lpcx7cB9nFrGE62kCE","target":"jEMg1yU8O3N8S0BER1FCG","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-jEMg1yU8O3N8S0BER1FCG-djUq4U1RUq2YRRVd3tcld","source":"jEMg1yU8O3N8S0BER1FCG","target":"djUq4U1RUq2YRRVd3tcld","type":"smoothstep","animated":true,"data":{"isDefault":true}}]}'::jsonb, profile_id)
  RETURNING id INTO version_id;

  UPDATE flows SET current_version_id = version_id WHERE id = new_flow_id;

  -- Flow: Individual Adult
  INSERT INTO flows (organization_id, name, description, created_by)
  VALUES (org_id, 'Individual Adult', 'Imported from Blueprint', profile_id)
  RETURNING id INTO new_flow_id;

  INSERT INTO flow_versions (flow_id, version_name, data, created_by)
  VALUES (new_flow_id, 'Initial Seed', '{"nodes":[{"id":"4lhiSuHgmVzPsw3OE0w63","type":"MC","position":{"x":0,"y":0},"data":{"screen":{"id":"4lhiSuHgmVzPsw3OE0w63","type":"MC","title":"Who are you?","question":"I am a...","options":[{"id":"opt-stu","label":"Student","value":"student"},{"id":"opt-par","label":"Parent","value":"parent"},{"id":"opt-adl","label":"Adult Learner","value":"adult"}],"variableBinding":"role"},"label":"Individual Gatekeeper","code":"MC-GATEKEEPER-IND","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"Cp2K9HSLQ2AKiUbxOZVnb","type":"MSG","position":{"x":360,"y":0},"data":{"screen":{"id":"Cp2K9HSLQ2AKiUbxOZVnb","type":"MSG","title":"Social Proof","style":"overlay","copy":"You are joining 50 million users who trust Typing.com.","headline":"Great choice!"},"label":"Social Proof","code":"MSG-SOCIAL-PROOF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"e5yRtsAHUCeRkKdbkV_lu","type":"MC","position":{"x":720,"y":0},"data":{"screen":{"id":"e5yRtsAHUCeRkKdbkV_lu","type":"MC","title":"Purpose","question":"Why are you looking to improve your typing today?","options":[{"id":"opt-school","label":"Success in School/College","value":"school"},{"id":"opt-coding","label":"Tech & Coding Interests","value":"coding"},{"id":"opt-fun","label":"Just for Fun & Games","value":"fun"},{"id":"opt-growth","label":"Personal Growth","value":"growth"}],"variableBinding":"purpose","variants":{"student":{"question":"Why are you looking to improve your typing today?","options":[{"id":"opt-school","label":"Success in School/College","value":"school"},{"id":"opt-coding","label":"Tech & Coding Interests","value":"coding"},{"id":"opt-fun","label":"Just for Fun & Games","value":"fun"},{"id":"opt-growth","label":"Personal Growth","value":"growth"}]},"adult":{"question":"What is your primary goal today?","options":[{"id":"opt-technique","label":"I want to learn proper technique from scratch","value":"technique"},{"id":"opt-speed","label":"I want to boost my existing speed and accuracy","value":"speed"},{"id":"opt-test","label":"I just want to take a quick typing test","value":"test"}]}}},"label":"Purpose Assessment","code":"MC-PURPOSE","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"IT5uxoF1hf4Y9bkUyzsiQ","type":"TEST","position":{"x":1080,"y":0},"data":{"screen":{"id":"IT5uxoF1hf4Y9bkUyzsiQ","type":"TEST","title":"Baseline Test","prompt":"Let''s get a baseline. Type the sentence below:","testText":"The quick brown fox jumps over the lazy dog.","minDuration":0,"variableBindings":{"wpm":"currentWpm"}},"label":"Mini Typing Test","code":"TEST-BASELINE-ALL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"yA7fEqNtDNv0PTjnuUZ_9","type":"MSG","position":{"x":0,"y":320},"data":{"screen":{"id":"yA7fEqNtDNv0PTjnuUZ_9","type":"MSG","title":"Baseline Result","headline":"Not bad!","copy":"You clocked in at [Current WPM] WPM. We can 2x that speed with practice.","style":"standard"},"label":"Baseline Result","code":"MSG-BASELINE-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"_yUUobEv23HGQc_El_XG_","type":"MC","position":{"x":360,"y":320},"data":{"screen":{"id":"_yUUobEv23HGQc_El_XG_","type":"MC","title":"Target Speed","question":"What is your target typing speed?","options":[{"id":"opt-40","label":"40 WPM","value":"40"},{"id":"opt-60","label":"60 WPM","value":"60"},{"id":"opt-80","label":"80 WPM","value":"80"},{"id":"opt-100","label":"100+ WPM","value":"100+"}],"variableBinding":"targetSpeed"},"label":"Target Speed","code":"MC-TARGET-ALL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"f1k5-708vEwyP7a5bOZWB","type":"MSG","position":{"x":720,"y":320},"data":{"screen":{"id":"f1k5-708vEwyP7a5bOZWB","type":"MSG","title":"Target Set","headline":"We''ve got you.","copy":"We''ll track your progress every step of the way to ensure you hit that goal.","style":"standard"},"label":"Target Set","code":"MSG-TARGET-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"uT9PZAJM4PxCo65qw6lYZ","type":"MC","position":{"x":1080,"y":320},"data":{"screen":{"id":"uT9PZAJM4PxCo65qw6lYZ","type":"MC","title":"Certificate","question":"Do you need a certificate of your WPM for work?","options":[{"id":"opt-yes","label":"Yes","value":"yes"},{"id":"opt-no","label":"No","value":"no"}],"variableBinding":"needsCertificate"},"label":"Certificate Need","code":"MC-CERTIFICATE-ADL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"XHS8_8jNovDGS3xvJ5OPa","type":"MSG","position":{"x":0,"y":640},"data":{"screen":{"id":"XHS8_8jNovDGS3xvJ5OPa","type":"MSG","title":"Certificates","headline":"Certified.","copy":"We provide verifiable certificates authenticating your performance for employers.","style":"standard"},"label":"Certificate Info","code":"MSG-CERTIFICATE-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"JW3XQnGMevVIFV0b5TRxX","type":"MC","position":{"x":360,"y":640},"data":{"screen":{"id":"JW3XQnGMevVIFV0b5TRxX","type":"MC","title":"Barriers","question":"What usually stops you from practicing?","options":[{"id":"opt-distract","label":"Distractions/Ads","value":"distractions"},{"id":"opt-bored","label":"Boredom","value":"boredom"},{"id":"opt-time","label":"Lack of Time","value":"time"}],"variableBinding":"barrier","variants":{"student":{"question":"What usually stops you from practicing?","options":[{"id":"opt-distract","label":"Distractions/Ads","value":"distractions"},{"id":"opt-bored","label":"Boredom","value":"boredom"},{"id":"opt-time","label":"Lack of Time","value":"time"}]},"parent":{"question":"What usually stops them from practicing?","options":[{"id":"opt-distract","label":"Distractions/Ads","value":"distractions"},{"id":"opt-bored","label":"Boredom","value":"boredom"},{"id":"opt-time","label":"Lack of Time","value":"time"}]},"adult":{"question":"What usually stops you from practicing?","options":[{"id":"opt-distract","label":"Distractions/Ads","value":"distractions"},{"id":"opt-bored","label":"Boredom","value":"boredom"},{"id":"opt-time","label":"Lack of Time","value":"time"}]}}},"label":"Barriers","code":"MC-BARRIERS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"KjVW6rja05B2ZJfXxN_9E","type":"MSG","position":{"x":720,"y":640},"data":{"screen":{"id":"KjVW6rja05B2ZJfXxN_9E","type":"MSG","title":"We Get It","headline":"We get it.","copy":"That''s why PLUS removes all video ads to keep you focused.","style":"standard","variants":{"student":{"headline":"We get it.","copy":"That''s why PLUS removes all video ads to keep you focused."},"parent":{"headline":"We get it.","copy":"That''s why PLUS removes all video ads to keep them focused."},"adult":{"headline":"We get it.","copy":"That''s why PLUS removes all video ads to keep you in a ''Flow State''."}}},"label":"Barriers Solution","code":"MSG-BARRIERS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"9Amnc3QeXKvrOq8EW1PCs","type":"MC","position":{"x":1080,"y":640},"data":{"screen":{"id":"9Amnc3QeXKvrOq8EW1PCs","type":"MC","title":"Motivation","question":"What keeps you motivated?","options":[{"id":"opt-streaks","label":"Streaks","value":"streaks"},{"id":"opt-games","label":"Games","value":"games"},{"id":"opt-track","label":"Progress Tracking","value":"tracking"}],"variableBinding":"motivation","variants":{"student":{"question":"What keeps you motivated when you''re learning?","options":[{"id":"opt-streaks","label":"Streaks","value":"streaks"},{"id":"opt-games","label":"Games","value":"games"},{"id":"opt-track","label":"Progress Tracking","value":"tracking"}]},"parent":{"question":"What motivates them to learn a new skill?","options":[{"id":"opt-fun","label":"Fun","value":"fun"},{"id":"opt-grades","label":"Grades","value":"grades"},{"id":"opt-rewards","label":"Rewards","value":"rewards"}]},"adult":{"question":"What keeps you motivated when you''re learning?","options":[{"id":"opt-streaks","label":"Streaks","value":"streaks"},{"id":"opt-certificates","label":"Certificates","value":"certificates"}]}}},"label":"Motivation","code":"MC-MOTIVATION","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"zyH8Ugx2Z2PHOvVbotEdj","type":"MC","position":{"x":0,"y":960},"data":{"screen":{"id":"zyH8Ugx2Z2PHOvVbotEdj","type":"MC","title":"Daily Goal","question":"How much time can you commit daily?","options":[{"id":"opt-5","label":"5 Mins","value":"5"},{"id":"opt-15","label":"15 Mins","value":"15"},{"id":"opt-30","label":"30 Mins","value":"30"}],"variableBinding":"dailyGoal","variants":{"student":{"question":"How much time can you commit to practicing each day?","options":[{"id":"opt-5","label":"5 Mins","value":"5"},{"id":"opt-15","label":"15 Mins","value":"15"},{"id":"opt-30","label":"30 Mins","value":"30"}]},"parent":{"question":"How much time will they be able to use Typing.com?","options":[{"id":"opt-5","label":"5 Mins","value":"5"},{"id":"opt-15","label":"15 Mins","value":"15"},{"id":"opt-30","label":"30 Mins","value":"30"}]},"adult":{"question":"How much time can you commit?","options":[{"id":"opt-5","label":"5 Mins","value":"5"},{"id":"opt-15","label":"15 Mins","value":"15"},{"id":"opt-30","label":"30 Mins","value":"30"}]}}},"label":"Daily Goal","code":"MC-DAILYGOAL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"0ksyQH5otCHOYK1hqJeoI","type":"MC","position":{"x":360,"y":960},"data":{"screen":{"id":"0ksyQH5otCHOYK1hqJeoI","type":"MC","title":"Discovery","question":"How did you hear about us?","options":[{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-friend","label":"Friend/Colleague","value":"friend"}],"variableBinding":"discoverySource","variants":{"student":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"parent":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"adult":{"options":[{"id":"opt-coworker","label":"Coworker","value":"coworker"},{"id":"opt-friend","label":"Friend","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"teacher":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"school-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"district-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]}}},"label":"Discovery","code":"MC-DISCOVERY","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"pK6AW-fYT714ouEzukH5G","type":"INT","position":{"x":720,"y":960},"data":{"screen":{"id":"pK6AW-fYT714ouEzukH5G","type":"INT","title":"Plan Analysis","headline":"Building Your Plan...","duration":3000,"animation":"progress-bar","messages":[{"text":"Analyzing inputs..."},{"text":"Generating curriculum..."},{"text":"Finalizing..."}],"variants":{"student":{"headline":"Building Your Plan...","messages":[{"text":"Measuring your baseline..."},{"text":"Setting target speed..."},{"text":"Optimizing curriculum..."}]},"parent":{"headline":"Building Plan...","messages":[{"text":"Assessing typing level..."},{"text":"Calibrating tech literacy modules..."},{"text":"Addressing screen time concerns..."}]},"adult":{"headline":"Building Your Plan...","messages":[{"text":"Optimizing for your goal..."},{"text":"Tackling your barriers..."},{"text":"Finalizing roadmap..."}]},"teacher":{"headline":"Building Classroom Plan...","messages":[{"text":"Confirming standards alignment..."},{"text":"Loading curriculum..."},{"text":"Configuring rostering..."}]},"school-admin":{"headline":"Building School Plan...","messages":[{"text":"Scaling for student count..."},{"text":"Securing environment..."},{"text":"Enabling data retention..."}]},"district-admin":{"headline":"Building District Plan...","messages":[{"text":"Mapping schools to dashboard..."},{"text":"Verifying rostering protocols..."},{"text":"Preparing compliance docs..."}]}}},"label":"Plan Analysis","code":"INT-PLAN-ANALYSIS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"9kFXb2LWkReTviszblIyJ","type":"FORM","position":{"x":1080,"y":960},"data":{"screen":{"id":"9kFXb2LWkReTviszblIyJ","type":"FORM","title":"Create Account","headline":"Your Plan is Ready","copy":"Create details to save your plan.","collectFields":["email","password"],"showSocialLogin":true,"variants":{"student":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"parent":{"headline":"Save your child''s custom plan","copy":"We''ve generated your child''s personalized roadmap."},"adult":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"teacher":{"headline":"Your Classroom is Ready.","copy":"Create your free account to save your classroom settings."},"school-admin":{"headline":"Secure Your School''s Learning Environment.","copy":"Create an account to save your school''s data configuration."},"district-admin":{"headline":"Your Compliant District Plan.","copy":"Solve your privacy requirements and rostering infrastructure today."}}},"label":"Signup Form","code":"FORM-SIGNUP","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"jNWmEsPSY5yn-eiU81FFz","type":"PAY","position":{"x":0,"y":1280},"data":{"screen":{"id":"jNWmEsPSY5yn-eiU81FFz","type":"PAY","title":"PLUS Plan","headline":"Unlock Full Experience","valuePropositions":["Ad-free learning","Unlimited history","Certificates"],"primaryAction":{"label":"Upgrade","action":"upgrade"},"variants":{"student":{"headline":"Unlock the Full Experience","valuePropositions":["Premium Content","Zero Distractions"]},"parent":{"headline":"Unlock the Full Experience for [Child Name]","valuePropositions":["Premium Content","Zero Distractions"]},"adult":{"headline":"Your Typing.com PLUS plan is ready","valuePropositions":["Ad-free learning","Certificates","Unlimited history"]},"teacher":{"headline":"Unlock the Full Classroom Experience","valuePropositions":["Full Coding Curriculum","Ad-free environment","Student progress tracking"]},"school-admin":{"headline":"Your School''s Ad-Free Quote","valuePropositions":["100% Ad-Free Walled Garden","Unlimited Data Retention","School-wide SSO"]},"district-admin":{"headline":"Your District Implementation Roadmap","valuePropositions":["100% Ad-Free Walled Garden","Signed DPA Compliance","District Master Dashboard"]}}},"label":"Plus Paywall","code":"PAY-PLUS","isValid":true,"isSelected":false,"isHighlighted":false}}],"edges":[{"id":"e-4lhiSuHgmVzPsw3OE0w63-Cp2K9HSLQ2AKiUbxOZVnb","source":"4lhiSuHgmVzPsw3OE0w63","target":"Cp2K9HSLQ2AKiUbxOZVnb","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-Cp2K9HSLQ2AKiUbxOZVnb-e5yRtsAHUCeRkKdbkV_lu","source":"Cp2K9HSLQ2AKiUbxOZVnb","target":"e5yRtsAHUCeRkKdbkV_lu","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-e5yRtsAHUCeRkKdbkV_lu-IT5uxoF1hf4Y9bkUyzsiQ","source":"e5yRtsAHUCeRkKdbkV_lu","target":"IT5uxoF1hf4Y9bkUyzsiQ","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-IT5uxoF1hf4Y9bkUyzsiQ-yA7fEqNtDNv0PTjnuUZ_9","source":"IT5uxoF1hf4Y9bkUyzsiQ","target":"yA7fEqNtDNv0PTjnuUZ_9","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-yA7fEqNtDNv0PTjnuUZ_9-_yUUobEv23HGQc_El_XG_","source":"yA7fEqNtDNv0PTjnuUZ_9","target":"_yUUobEv23HGQc_El_XG_","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-_yUUobEv23HGQc_El_XG_-f1k5-708vEwyP7a5bOZWB","source":"_yUUobEv23HGQc_El_XG_","target":"f1k5-708vEwyP7a5bOZWB","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-f1k5-708vEwyP7a5bOZWB-uT9PZAJM4PxCo65qw6lYZ","source":"f1k5-708vEwyP7a5bOZWB","target":"uT9PZAJM4PxCo65qw6lYZ","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-uT9PZAJM4PxCo65qw6lYZ-XHS8_8jNovDGS3xvJ5OPa","source":"uT9PZAJM4PxCo65qw6lYZ","target":"XHS8_8jNovDGS3xvJ5OPa","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-XHS8_8jNovDGS3xvJ5OPa-JW3XQnGMevVIFV0b5TRxX","source":"XHS8_8jNovDGS3xvJ5OPa","target":"JW3XQnGMevVIFV0b5TRxX","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-JW3XQnGMevVIFV0b5TRxX-KjVW6rja05B2ZJfXxN_9E","source":"JW3XQnGMevVIFV0b5TRxX","target":"KjVW6rja05B2ZJfXxN_9E","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-KjVW6rja05B2ZJfXxN_9E-9Amnc3QeXKvrOq8EW1PCs","source":"KjVW6rja05B2ZJfXxN_9E","target":"9Amnc3QeXKvrOq8EW1PCs","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-9Amnc3QeXKvrOq8EW1PCs-zyH8Ugx2Z2PHOvVbotEdj","source":"9Amnc3QeXKvrOq8EW1PCs","target":"zyH8Ugx2Z2PHOvVbotEdj","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-zyH8Ugx2Z2PHOvVbotEdj-0ksyQH5otCHOYK1hqJeoI","source":"zyH8Ugx2Z2PHOvVbotEdj","target":"0ksyQH5otCHOYK1hqJeoI","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-0ksyQH5otCHOYK1hqJeoI-pK6AW-fYT714ouEzukH5G","source":"0ksyQH5otCHOYK1hqJeoI","target":"pK6AW-fYT714ouEzukH5G","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-pK6AW-fYT714ouEzukH5G-9kFXb2LWkReTviszblIyJ","source":"pK6AW-fYT714ouEzukH5G","target":"9kFXb2LWkReTviszblIyJ","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-9kFXb2LWkReTviszblIyJ-jNWmEsPSY5yn-eiU81FFz","source":"9kFXb2LWkReTviszblIyJ","target":"jNWmEsPSY5yn-eiU81FFz","type":"smoothstep","animated":true,"data":{"isDefault":true}}]}'::jsonb, profile_id)
  RETURNING id INTO version_id;

  UPDATE flows SET current_version_id = version_id WHERE id = new_flow_id;

  -- Flow: Educator School Admin
  INSERT INTO flows (organization_id, name, description, created_by)
  VALUES (org_id, 'Educator School Admin', 'Imported from Blueprint', profile_id)
  RETURNING id INTO new_flow_id;

  INSERT INTO flow_versions (flow_id, version_name, data, created_by)
  VALUES (new_flow_id, 'Initial Seed', '{"nodes":[{"id":"8X_0Q2j4pBy9uNboXzDNK","type":"MC","position":{"x":0,"y":0},"data":{"screen":{"id":"8X_0Q2j4pBy9uNboXzDNK","type":"MC","title":"Who are you?","question":"I am a...","options":[{"id":"opt-tch","label":"Teacher","value":"teacher"},{"id":"opt-sch","label":"School Admin","value":"school-admin"},{"id":"opt-dst","label":"District Admin","value":"district-admin"}],"variableBinding":"role"},"label":"Educator Gatekeeper","code":"MC-GATEKEEPER-EDU","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"ssSy34oqIo-XNxPZ50_8_","type":"MSG","position":{"x":360,"y":0},"data":{"screen":{"id":"ssSy34oqIo-XNxPZ50_8_","type":"MSG","title":"Social Proof","style":"overlay","copy":"You are joining 50 million users who trust Typing.com.","headline":"Great choice!"},"label":"Social Proof","code":"MSG-SOCIAL-PROOF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"ZSwzfWFJ-KHei5tHhbJfn","type":"MC","position":{"x":720,"y":0},"data":{"screen":{"id":"ZSwzfWFJ-KHei5tHhbJfn","type":"MC","title":"Confirm Location","question":"We detected you''re in [Detected State]. Is this correct?","options":[{"id":"opt-yes","label":"Yes","value":"yes"},{"id":"opt-no","label":"No, I''m in ___","value":"no"}],"variableBinding":"state"},"label":"Confirm Location","code":"MC-LOCATION-EDU","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"_sK7BUcjbFEbFrOGUlj9N","type":"NUM","position":{"x":1080,"y":0},"data":{"screen":{"id":"_sK7BUcjbFEbFrOGUlj9N","type":"NUM","title":"Student Count","prompt":"How many students do you teach?","placeholder":"e.g. 25","inputType":"number","variableBinding":"studentCount"},"label":"Student Count","code":"NUM-STUDENTS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"Lgo0ZoOetqsD7qtiteSMs","type":"MSG","position":{"x":0,"y":320},"data":{"screen":{"id":"Lgo0ZoOetqsD7qtiteSMs","type":"MSG","title":"Scalability","headline":"Scalable.","copy":"Our platform is optimized to handle high-volume traffic for schools your size.","style":"standard"},"label":"Affirmation: School Size","code":"MSG-SCHOOLSIZE-SCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"rCsaQg9yhlixcmiLzQE1M","type":"MC","position":{"x":360,"y":320},"data":{"screen":{"id":"rCsaQg9yhlixcmiLzQE1M","type":"MC","title":"Rostering","question":"How do you want your students to log in?","options":[{"id":"opt-google","label":"Google/Microsoft","value":"google"},{"id":"opt-clever","label":"Clever","value":"clever"},{"id":"opt-class","label":"Class Code","value":"manual"}],"variableBinding":"rosteringMethod"},"label":"Rostering","code":"MC-ROSTERING","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"RdV_xLw4SRW4ckpJ9RA6r","type":"MSG","position":{"x":720,"y":320},"data":{"screen":{"id":"RdV_xLw4SRW4ckpJ9RA6r","type":"MSG","title":"Infrastructure","headline":"Great.","copy":"We support Single Sign-On (SSO) to make school-wide deployment instant.","style":"standard"},"label":"Affirmation: Rostering (School)","code":"MSG-ROSTERING-SCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"I2bezzNaUdc-awlWkyBb0","type":"MC","position":{"x":1080,"y":320},"data":{"screen":{"id":"I2bezzNaUdc-awlWkyBb0","type":"MC","title":"Environment","question":"How important is removing ads?","options":[{"id":"opt-very","label":"Very Important","value":"very"},{"id":"opt-some","label":"Somewhat","value":"somewhat"},{"id":"opt-not","label":"Not a Priority","value":"none"}],"variableBinding":"adImportance"},"label":"Ads Concern","code":"MC-ENVIRONMENT","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"YMFPK9-jEYnYinsiI6TmA","type":"MSG","position":{"x":0,"y":640},"data":{"screen":{"id":"YMFPK9-jEYnYinsiI6TmA","type":"MSG","title":"Walled Garden","headline":"We hear you.","copy":"That''s why PLUS creates a 100% Ad-Free, Walled Garden environment to minimize risk.","style":"standard"},"label":"Affirmation: Environment (School)","code":"MSG-ENVIRONMENT-SCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"DKId37MAPxEZCgPfSXu22","type":"MC","position":{"x":360,"y":640},"data":{"screen":{"id":"DKId37MAPxEZCgPfSXu22","type":"MC","title":"Data Retention","question":"Do you need to track growth year-over-year?","options":[{"id":"opt-yes","label":"Yes","value":"yes"},{"id":"opt-no","label":"No","value":"no"}],"variableBinding":"dataRetention"},"label":"Data Retention","code":"MC-RETENTION","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"gFumUIUeUcU5Cr6hzOMAl","type":"MSG","position":{"x":720,"y":640},"data":{"screen":{"id":"gFumUIUeUcU5Cr6hzOMAl","type":"MSG","title":"Unlimited History","headline":"Noted.","copy":"We will enable Unlimited Data Retention for your account (removing the standard 70-day limit).","style":"standard"},"label":"Affirmation: Retention","code":"MSG-RETENTION-SCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"pNiWg5SSSPA66GzgHWtJo","type":"MC","position":{"x":1080,"y":640},"data":{"screen":{"id":"pNiWg5SSSPA66GzgHWtJo","type":"MC","title":"Analytics","question":"Do you need ROI reporting?","options":[{"id":"opt-yes","label":"Yes","value":"yes"},{"id":"opt-no","label":"No","value":"no"}],"variableBinding":"analytics"},"label":"Analytics / ROI","code":"MC-ANALYTICS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"qygDO7jjhwUfyuW2aWCbE","type":"MSG","position":{"x":0,"y":960},"data":{"screen":{"id":"qygDO7jjhwUfyuW2aWCbE","type":"MSG","title":"Admin Console","headline":"Visible ROI.","copy":"Our Admin Console provides analytics to prove utilization and ROI.","style":"standard"},"label":"Affirmation: Analytics","code":"MSG-ANALYTICS-SCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"dG1SBOMfvzs9IB7sGdykb","type":"MC","position":{"x":360,"y":960},"data":{"screen":{"id":"dG1SBOMfvzs9IB7sGdykb","type":"MC","title":"Dual Role","question":"Do you also teach your own classes?","options":[{"id":"opt-yes","label":"Yes","value":"yes","nextScreenId":"DpCkTLM5LZgrGYQ5-pE5B"},{"id":"opt-no","label":"No","value":"no","nextScreenId":"CODE:MC-DISCOVERY-EDU"}],"variableBinding":"dualRole"},"label":"Dual Role","code":"MC-DUALROLE-EDU","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"DpCkTLM5LZgrGYQ5-pE5B","type":"MSG","position":{"x":720,"y":960},"data":{"screen":{"id":"DpCkTLM5LZgrGYQ5-pE5B","type":"MSG","title":"The Solution","headline":"Perfect.","copy":"You won''t need two accounts. Our Role Switcher lets you toggle instantly between District/School Oversight and Classroom Instruction.","style":"standard"},"label":"Affirmation: Dual Role","code":"MSG-DUALROLE-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"27lf5se7osrqgBkCJJrCl","type":"MS","position":{"x":1080,"y":960},"data":{"screen":{"id":"27lf5se7osrqgBkCJJrCl","type":"MS","title":"Teacher Content Needs","question":"For your own students, are you looking to teach skills beyond basic typing?","options":[{"id":"opt-coding","label":"Coding Basics","value":"coding"},{"id":"opt-digcit","label":"Digital Citizenship","value":"digcit"},{"id":"opt-typing","label":"Just Typing","value":"typing"}],"variableBinding":"teacherContent"},"label":"Question: Teacher Content (Dual)","code":"MS-CONTENT-TCH-DUAL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"Iwz4bpZTukkUvue-2po2S","type":"MSG","position":{"x":0,"y":1280},"data":{"screen":{"id":"Iwz4bpZTukkUvue-2po2S","type":"MSG","title":"Dual Access","headline":"Curriculum Unlocked.","copy":"Your account includes full access to the PLUS Curriculum for your students, while maintaining admin privileges.","style":"standard"},"label":"Affirmation: Teacher Content (Dual)","code":"MSG-TEACHERCONTENT-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"uJbJgrCQVZdbt3WAfcTwD","type":"MC","position":{"x":360,"y":1280},"data":{"screen":{"id":"uJbJgrCQVZdbt3WAfcTwD","type":"MC","title":"Teacher Accessibility","question":"Do the students in your specific classes need accessibility accommodations?","options":[{"id":"opt-yes","label":"Yes, I have specific needs","value":"yes"},{"id":"opt-no","label":"No, standard is fine","value":"no"}],"variableBinding":"teacherAccessibility"},"label":"Question: Teacher Accessibility (Dual)","code":"MC-ACCESSIBILITY-TCH-DUAL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"NOyuk3eFL-paroqrifALq","type":"MSG","position":{"x":720,"y":1280},"data":{"screen":{"id":"NOyuk3eFL-paroqrifALq","type":"MSG","title":"Granular Control","headline":"We''ve got you covered.","copy":"You can apply specific accessibility settings to your own roster without altering global settings.","style":"standard"},"label":"Affirmation: Teacher Access (Dual)","code":"MSG-TEACHERACCESS-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"5ZO2gXRbc32SSfGV-8iK3","type":"MC","position":{"x":1080,"y":1280},"data":{"screen":{"id":"5ZO2gXRbc32SSfGV-8iK3","type":"MC","title":"Discovery","question":"How did you hear about us?","options":[{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-friend","label":"Friend/Colleague","value":"friend"}],"variableBinding":"discoverySource","variants":{"student":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"parent":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"adult":{"options":[{"id":"opt-coworker","label":"Coworker","value":"coworker"},{"id":"opt-friend","label":"Friend","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"teacher":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"school-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"district-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]}}},"label":"Discovery","code":"MC-DISCOVERY","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"aqTR1oT3E6XBC3Ojs1__2","type":"INT","position":{"x":0,"y":1600},"data":{"screen":{"id":"aqTR1oT3E6XBC3Ojs1__2","type":"INT","title":"Plan Analysis","headline":"Building Your Plan...","duration":3000,"animation":"progress-bar","messages":[{"text":"Analyzing inputs..."},{"text":"Generating curriculum..."},{"text":"Finalizing..."}],"variants":{"student":{"headline":"Building Your Plan...","messages":[{"text":"Measuring your baseline..."},{"text":"Setting target speed..."},{"text":"Optimizing curriculum..."}]},"parent":{"headline":"Building Plan...","messages":[{"text":"Assessing typing level..."},{"text":"Calibrating tech literacy modules..."},{"text":"Addressing screen time concerns..."}]},"adult":{"headline":"Building Your Plan...","messages":[{"text":"Optimizing for your goal..."},{"text":"Tackling your barriers..."},{"text":"Finalizing roadmap..."}]},"teacher":{"headline":"Building Classroom Plan...","messages":[{"text":"Confirming standards alignment..."},{"text":"Loading curriculum..."},{"text":"Configuring rostering..."}]},"school-admin":{"headline":"Building School Plan...","messages":[{"text":"Scaling for student count..."},{"text":"Securing environment..."},{"text":"Enabling data retention..."}]},"district-admin":{"headline":"Building District Plan...","messages":[{"text":"Mapping schools to dashboard..."},{"text":"Verifying rostering protocols..."},{"text":"Preparing compliance docs..."}]}}},"label":"Plan Analysis","code":"INT-PLAN-ANALYSIS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"fizQvhRsNfug2xBV0pISG","type":"FORM","position":{"x":360,"y":1600},"data":{"screen":{"id":"fizQvhRsNfug2xBV0pISG","type":"FORM","title":"Create Account","headline":"Your Plan is Ready","copy":"Create details to save your plan.","collectFields":["email","password"],"showSocialLogin":true,"variants":{"student":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"parent":{"headline":"Save your child''s custom plan","copy":"We''ve generated your child''s personalized roadmap."},"adult":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"teacher":{"headline":"Your Classroom is Ready.","copy":"Create your free account to save your classroom settings."},"school-admin":{"headline":"Secure Your School''s Learning Environment.","copy":"Create an account to save your school''s data configuration."},"district-admin":{"headline":"Your Compliant District Plan.","copy":"Solve your privacy requirements and rostering infrastructure today."}}},"label":"Signup Form","code":"FORM-SIGNUP","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"kgoV1zfU_uBqTv7VIcghc","type":"PAY","position":{"x":720,"y":1600},"data":{"screen":{"id":"kgoV1zfU_uBqTv7VIcghc","type":"PAY","title":"PLUS Plan","headline":"Unlock Full Experience","valuePropositions":["Ad-free learning","Unlimited history","Certificates"],"primaryAction":{"label":"Upgrade","action":"upgrade"},"variants":{"student":{"headline":"Unlock the Full Experience","valuePropositions":["Premium Content","Zero Distractions"]},"parent":{"headline":"Unlock the Full Experience for [Child Name]","valuePropositions":["Premium Content","Zero Distractions"]},"adult":{"headline":"Your Typing.com PLUS plan is ready","valuePropositions":["Ad-free learning","Certificates","Unlimited history"]},"teacher":{"headline":"Unlock the Full Classroom Experience","valuePropositions":["Full Coding Curriculum","Ad-free environment","Student progress tracking"]},"school-admin":{"headline":"Your School''s Ad-Free Quote","valuePropositions":["100% Ad-Free Walled Garden","Unlimited Data Retention","School-wide SSO"]},"district-admin":{"headline":"Your District Implementation Roadmap","valuePropositions":["100% Ad-Free Walled Garden","Signed DPA Compliance","District Master Dashboard"]}}},"label":"Plus Paywall","code":"PAY-PLUS","isValid":true,"isSelected":false,"isHighlighted":false}}],"edges":[{"id":"e-8X_0Q2j4pBy9uNboXzDNK-ssSy34oqIo-XNxPZ50_8_","source":"8X_0Q2j4pBy9uNboXzDNK","target":"ssSy34oqIo-XNxPZ50_8_","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-ssSy34oqIo-XNxPZ50_8_-ZSwzfWFJ-KHei5tHhbJfn","source":"ssSy34oqIo-XNxPZ50_8_","target":"ZSwzfWFJ-KHei5tHhbJfn","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-ZSwzfWFJ-KHei5tHhbJfn-_sK7BUcjbFEbFrOGUlj9N","source":"ZSwzfWFJ-KHei5tHhbJfn","target":"_sK7BUcjbFEbFrOGUlj9N","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-_sK7BUcjbFEbFrOGUlj9N-Lgo0ZoOetqsD7qtiteSMs","source":"_sK7BUcjbFEbFrOGUlj9N","target":"Lgo0ZoOetqsD7qtiteSMs","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-Lgo0ZoOetqsD7qtiteSMs-rCsaQg9yhlixcmiLzQE1M","source":"Lgo0ZoOetqsD7qtiteSMs","target":"rCsaQg9yhlixcmiLzQE1M","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-rCsaQg9yhlixcmiLzQE1M-RdV_xLw4SRW4ckpJ9RA6r","source":"rCsaQg9yhlixcmiLzQE1M","target":"RdV_xLw4SRW4ckpJ9RA6r","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-RdV_xLw4SRW4ckpJ9RA6r-I2bezzNaUdc-awlWkyBb0","source":"RdV_xLw4SRW4ckpJ9RA6r","target":"I2bezzNaUdc-awlWkyBb0","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-I2bezzNaUdc-awlWkyBb0-YMFPK9-jEYnYinsiI6TmA","source":"I2bezzNaUdc-awlWkyBb0","target":"YMFPK9-jEYnYinsiI6TmA","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-YMFPK9-jEYnYinsiI6TmA-DKId37MAPxEZCgPfSXu22","source":"YMFPK9-jEYnYinsiI6TmA","target":"DKId37MAPxEZCgPfSXu22","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-DKId37MAPxEZCgPfSXu22-gFumUIUeUcU5Cr6hzOMAl","source":"DKId37MAPxEZCgPfSXu22","target":"gFumUIUeUcU5Cr6hzOMAl","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-gFumUIUeUcU5Cr6hzOMAl-pNiWg5SSSPA66GzgHWtJo","source":"gFumUIUeUcU5Cr6hzOMAl","target":"pNiWg5SSSPA66GzgHWtJo","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-pNiWg5SSSPA66GzgHWtJo-qygDO7jjhwUfyuW2aWCbE","source":"pNiWg5SSSPA66GzgHWtJo","target":"qygDO7jjhwUfyuW2aWCbE","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-qygDO7jjhwUfyuW2aWCbE-dG1SBOMfvzs9IB7sGdykb","source":"qygDO7jjhwUfyuW2aWCbE","target":"dG1SBOMfvzs9IB7sGdykb","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-DpCkTLM5LZgrGYQ5-pE5B-27lf5se7osrqgBkCJJrCl","source":"DpCkTLM5LZgrGYQ5-pE5B","target":"27lf5se7osrqgBkCJJrCl","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-27lf5se7osrqgBkCJJrCl-Iwz4bpZTukkUvue-2po2S","source":"27lf5se7osrqgBkCJJrCl","target":"Iwz4bpZTukkUvue-2po2S","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-Iwz4bpZTukkUvue-2po2S-uJbJgrCQVZdbt3WAfcTwD","source":"Iwz4bpZTukkUvue-2po2S","target":"uJbJgrCQVZdbt3WAfcTwD","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-uJbJgrCQVZdbt3WAfcTwD-NOyuk3eFL-paroqrifALq","source":"uJbJgrCQVZdbt3WAfcTwD","target":"NOyuk3eFL-paroqrifALq","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-NOyuk3eFL-paroqrifALq-5ZO2gXRbc32SSfGV-8iK3","source":"NOyuk3eFL-paroqrifALq","target":"5ZO2gXRbc32SSfGV-8iK3","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-5ZO2gXRbc32SSfGV-8iK3-aqTR1oT3E6XBC3Ojs1__2","source":"5ZO2gXRbc32SSfGV-8iK3","target":"aqTR1oT3E6XBC3Ojs1__2","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-aqTR1oT3E6XBC3Ojs1__2-fizQvhRsNfug2xBV0pISG","source":"aqTR1oT3E6XBC3Ojs1__2","target":"fizQvhRsNfug2xBV0pISG","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-fizQvhRsNfug2xBV0pISG-kgoV1zfU_uBqTv7VIcghc","source":"fizQvhRsNfug2xBV0pISG","target":"kgoV1zfU_uBqTv7VIcghc","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-dG1SBOMfvzs9IB7sGdykb-DpCkTLM5LZgrGYQ5-pE5B-opt-yes","source":"dG1SBOMfvzs9IB7sGdykb","target":"DpCkTLM5LZgrGYQ5-pE5B","sourceHandle":"opt-yes","type":"smoothstep","animated":true,"label":"Yes","data":{"label":"Yes"}}]}'::jsonb, profile_id)
  RETURNING id INTO version_id;

  UPDATE flows SET current_version_id = version_id WHERE id = new_flow_id;

  -- Flow: Educator District Admin
  INSERT INTO flows (organization_id, name, description, created_by)
  VALUES (org_id, 'Educator District Admin', 'Imported from Blueprint', profile_id)
  RETURNING id INTO new_flow_id;

  INSERT INTO flow_versions (flow_id, version_name, data, created_by)
  VALUES (new_flow_id, 'Initial Seed', '{"nodes":[{"id":"-b4pfsAK42G1pjfxD8AAo","type":"MC","position":{"x":0,"y":0},"data":{"screen":{"id":"-b4pfsAK42G1pjfxD8AAo","type":"MC","title":"Who are you?","question":"I am a...","options":[{"id":"opt-tch","label":"Teacher","value":"teacher"},{"id":"opt-sch","label":"School Admin","value":"school-admin"},{"id":"opt-dst","label":"District Admin","value":"district-admin"}],"variableBinding":"role"},"label":"Educator Gatekeeper","code":"MC-GATEKEEPER-EDU","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"uFQPzsEH_Uq0b8I-CgTpz","type":"MSG","position":{"x":360,"y":0},"data":{"screen":{"id":"uFQPzsEH_Uq0b8I-CgTpz","type":"MSG","title":"Social Proof","style":"overlay","copy":"You are joining 50 million users who trust Typing.com.","headline":"Great choice!"},"label":"Social Proof","code":"MSG-SOCIAL-PROOF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"i7MXSwUaaHcaVlHg5rC7U","type":"MC","position":{"x":720,"y":0},"data":{"screen":{"id":"i7MXSwUaaHcaVlHg5rC7U","type":"MC","title":"Confirm Location","question":"We detected you''re in [Detected State]. Is this correct?","options":[{"id":"opt-yes","label":"Yes","value":"yes"},{"id":"opt-no","label":"No, I''m in ___","value":"no"}],"variableBinding":"state"},"label":"Confirm Location","code":"MC-LOCATION-EDU","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"JpqXlY9s7rytx7Uzekt1f","type":"MSG","position":{"x":1080,"y":0},"data":{"screen":{"id":"JpqXlY9s7rytx7Uzekt1f","type":"MSG","title":"Master Dashboard","headline":"Multi-Tenant.","copy":"We provide a District Master Dashboard to manage all schools from a single login.","style":"standard"},"label":"Affirmation: District Scope","code":"MSG-DISTRICTSCOPE-DST-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"eOnZOY9HvOe_tJbbkke44","type":"MC","position":{"x":0,"y":320},"data":{"screen":{"id":"eOnZOY9HvOe_tJbbkke44","type":"MC","title":"Rostering","question":"How do you want your students to log in?","options":[{"id":"opt-google","label":"Google/Microsoft","value":"google"},{"id":"opt-clever","label":"Clever","value":"clever"},{"id":"opt-class","label":"Class Code","value":"manual"}],"variableBinding":"rosteringMethod"},"label":"Rostering","code":"MC-ROSTERING","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"WUsJZYXuvsxcp-srs_mq8","type":"MSG","position":{"x":360,"y":320},"data":{"screen":{"id":"WUsJZYXuvsxcp-srs_mq8","type":"MSG","title":"Nightly Sync","headline":"Certified Partner.","copy":"We are a certified partner with your provider and support automated nightly rostering updates.","style":"standard"},"label":"Affirmation: Rostering (District)","code":"MSG-ROSTERING-DST-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"8s5ish9LI3XpWZuOSpd9Z","type":"MC","position":{"x":720,"y":320},"data":{"screen":{"id":"8s5ish9LI3XpWZuOSpd9Z","type":"MC","title":"Compliance","question":"Does your district require a signed DPA?","options":[{"id":"opt-yes","label":"Yes","value":"yes"},{"id":"opt-no","label":"No","value":"no"}],"variableBinding":"dpaStatus"},"label":"Compliance","code":"MC-COMPLIANCE-DST","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"LRB_EMtGIVdFWF15CtaZn","type":"MSG","position":{"x":1080,"y":320},"data":{"screen":{"id":"LRB_EMtGIVdFWF15CtaZn","type":"MSG","title":"Legal Safety","headline":"Fully Compliant.","copy":"Your PLUS plan includes a signed DPA to satisfy your legal and security teams.","style":"standard"},"label":"Affirmation: Compliance","code":"MSG-COMPLIANCE-DST-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"ZgniWF_bBwgAfdWVUscUz","type":"MC","position":{"x":0,"y":640},"data":{"screen":{"id":"ZgniWF_bBwgAfdWVUscUz","type":"MC","title":"Dual Role","question":"Do you also teach your own classes?","options":[{"id":"opt-yes","label":"Yes","value":"yes","nextScreenId":"DpCkTLM5LZgrGYQ5-pE5B"},{"id":"opt-no","label":"No","value":"no","nextScreenId":"CODE:MC-DISCOVERY-EDU"}],"variableBinding":"dualRole"},"label":"Dual Role","code":"MC-DUALROLE-EDU","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"i0Cdr3R21VkxwOFusXuuJ","type":"MSG","position":{"x":360,"y":640},"data":{"screen":{"id":"i0Cdr3R21VkxwOFusXuuJ","type":"MSG","title":"The Solution","headline":"Perfect.","copy":"You won''t need two accounts. Our Role Switcher lets you toggle instantly between District/School Oversight and Classroom Instruction.","style":"standard"},"label":"Affirmation: Dual Role","code":"MSG-DUALROLE-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"Or_Xqml5FxryAYBg6t5AD","type":"MS","position":{"x":720,"y":640},"data":{"screen":{"id":"Or_Xqml5FxryAYBg6t5AD","type":"MS","title":"Teacher Content Needs","question":"For your own students, are you looking to teach skills beyond basic typing?","options":[{"id":"opt-coding","label":"Coding Basics","value":"coding"},{"id":"opt-digcit","label":"Digital Citizenship","value":"digcit"},{"id":"opt-typing","label":"Just Typing","value":"typing"}],"variableBinding":"teacherContent"},"label":"Question: Teacher Content (Dual)","code":"MS-CONTENT-TCH-DUAL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"UE0cTszZk6H7l0ucZ1zaC","type":"MSG","position":{"x":1080,"y":640},"data":{"screen":{"id":"UE0cTszZk6H7l0ucZ1zaC","type":"MSG","title":"Dual Access","headline":"Curriculum Unlocked.","copy":"Your account includes full access to the PLUS Curriculum for your students, while maintaining admin privileges.","style":"standard"},"label":"Affirmation: Teacher Content (Dual)","code":"MSG-TEACHERCONTENT-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"k5moibQ4SMF8OXDKnA4Ok","type":"MC","position":{"x":0,"y":960},"data":{"screen":{"id":"k5moibQ4SMF8OXDKnA4Ok","type":"MC","title":"Teacher Accessibility","question":"Do the students in your specific classes need accessibility accommodations?","options":[{"id":"opt-yes","label":"Yes, I have specific needs","value":"yes"},{"id":"opt-no","label":"No, standard is fine","value":"no"}],"variableBinding":"teacherAccessibility"},"label":"Question: Teacher Accessibility (Dual)","code":"MC-ACCESSIBILITY-TCH-DUAL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"33DtZ-cmHeJT054fXBHyk","type":"MSG","position":{"x":360,"y":960},"data":{"screen":{"id":"33DtZ-cmHeJT054fXBHyk","type":"MSG","title":"Granular Control","headline":"We''ve got you covered.","copy":"You can apply specific accessibility settings to your own roster without altering global settings.","style":"standard"},"label":"Affirmation: Teacher Access (Dual)","code":"MSG-TEACHERACCESS-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"CVPkz4TWD46vzXaZmXT1R","type":"MC","position":{"x":720,"y":960},"data":{"screen":{"id":"CVPkz4TWD46vzXaZmXT1R","type":"MC","title":"Discovery","question":"How did you hear about us?","options":[{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-friend","label":"Friend/Colleague","value":"friend"}],"variableBinding":"discoverySource","variants":{"student":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"parent":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"adult":{"options":[{"id":"opt-coworker","label":"Coworker","value":"coworker"},{"id":"opt-friend","label":"Friend","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"teacher":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"school-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"district-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]}}},"label":"Discovery","code":"MC-DISCOVERY","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"xf2eV7KY5CVfEUOI83QVS","type":"INT","position":{"x":1080,"y":960},"data":{"screen":{"id":"xf2eV7KY5CVfEUOI83QVS","type":"INT","title":"Plan Analysis","headline":"Building Your Plan...","duration":3000,"animation":"progress-bar","messages":[{"text":"Analyzing inputs..."},{"text":"Generating curriculum..."},{"text":"Finalizing..."}],"variants":{"student":{"headline":"Building Your Plan...","messages":[{"text":"Measuring your baseline..."},{"text":"Setting target speed..."},{"text":"Optimizing curriculum..."}]},"parent":{"headline":"Building Plan...","messages":[{"text":"Assessing typing level..."},{"text":"Calibrating tech literacy modules..."},{"text":"Addressing screen time concerns..."}]},"adult":{"headline":"Building Your Plan...","messages":[{"text":"Optimizing for your goal..."},{"text":"Tackling your barriers..."},{"text":"Finalizing roadmap..."}]},"teacher":{"headline":"Building Classroom Plan...","messages":[{"text":"Confirming standards alignment..."},{"text":"Loading curriculum..."},{"text":"Configuring rostering..."}]},"school-admin":{"headline":"Building School Plan...","messages":[{"text":"Scaling for student count..."},{"text":"Securing environment..."},{"text":"Enabling data retention..."}]},"district-admin":{"headline":"Building District Plan...","messages":[{"text":"Mapping schools to dashboard..."},{"text":"Verifying rostering protocols..."},{"text":"Preparing compliance docs..."}]}}},"label":"Plan Analysis","code":"INT-PLAN-ANALYSIS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"jrfmVsY7Z1XfvxDFMMi5Z","type":"FORM","position":{"x":0,"y":1280},"data":{"screen":{"id":"jrfmVsY7Z1XfvxDFMMi5Z","type":"FORM","title":"Create Account","headline":"Your Plan is Ready","copy":"Create details to save your plan.","collectFields":["email","password"],"showSocialLogin":true,"variants":{"student":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"parent":{"headline":"Save your child''s custom plan","copy":"We''ve generated your child''s personalized roadmap."},"adult":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"teacher":{"headline":"Your Classroom is Ready.","copy":"Create your free account to save your classroom settings."},"school-admin":{"headline":"Secure Your School''s Learning Environment.","copy":"Create an account to save your school''s data configuration."},"district-admin":{"headline":"Your Compliant District Plan.","copy":"Solve your privacy requirements and rostering infrastructure today."}}},"label":"Signup Form","code":"FORM-SIGNUP","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"kWT65X2ngL_hUz7Btb3cI","type":"PAY","position":{"x":360,"y":1280},"data":{"screen":{"id":"kWT65X2ngL_hUz7Btb3cI","type":"PAY","title":"PLUS Plan","headline":"Unlock Full Experience","valuePropositions":["Ad-free learning","Unlimited history","Certificates"],"primaryAction":{"label":"Upgrade","action":"upgrade"},"variants":{"student":{"headline":"Unlock the Full Experience","valuePropositions":["Premium Content","Zero Distractions"]},"parent":{"headline":"Unlock the Full Experience for [Child Name]","valuePropositions":["Premium Content","Zero Distractions"]},"adult":{"headline":"Your Typing.com PLUS plan is ready","valuePropositions":["Ad-free learning","Certificates","Unlimited history"]},"teacher":{"headline":"Unlock the Full Classroom Experience","valuePropositions":["Full Coding Curriculum","Ad-free environment","Student progress tracking"]},"school-admin":{"headline":"Your School''s Ad-Free Quote","valuePropositions":["100% Ad-Free Walled Garden","Unlimited Data Retention","School-wide SSO"]},"district-admin":{"headline":"Your District Implementation Roadmap","valuePropositions":["100% Ad-Free Walled Garden","Signed DPA Compliance","District Master Dashboard"]}}},"label":"Plus Paywall","code":"PAY-PLUS","isValid":true,"isSelected":false,"isHighlighted":false}}],"edges":[{"id":"e--b4pfsAK42G1pjfxD8AAo-uFQPzsEH_Uq0b8I-CgTpz","source":"-b4pfsAK42G1pjfxD8AAo","target":"uFQPzsEH_Uq0b8I-CgTpz","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-uFQPzsEH_Uq0b8I-CgTpz-i7MXSwUaaHcaVlHg5rC7U","source":"uFQPzsEH_Uq0b8I-CgTpz","target":"i7MXSwUaaHcaVlHg5rC7U","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-i7MXSwUaaHcaVlHg5rC7U-JpqXlY9s7rytx7Uzekt1f","source":"i7MXSwUaaHcaVlHg5rC7U","target":"JpqXlY9s7rytx7Uzekt1f","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-JpqXlY9s7rytx7Uzekt1f-eOnZOY9HvOe_tJbbkke44","source":"JpqXlY9s7rytx7Uzekt1f","target":"eOnZOY9HvOe_tJbbkke44","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-eOnZOY9HvOe_tJbbkke44-WUsJZYXuvsxcp-srs_mq8","source":"eOnZOY9HvOe_tJbbkke44","target":"WUsJZYXuvsxcp-srs_mq8","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-WUsJZYXuvsxcp-srs_mq8-8s5ish9LI3XpWZuOSpd9Z","source":"WUsJZYXuvsxcp-srs_mq8","target":"8s5ish9LI3XpWZuOSpd9Z","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-8s5ish9LI3XpWZuOSpd9Z-LRB_EMtGIVdFWF15CtaZn","source":"8s5ish9LI3XpWZuOSpd9Z","target":"LRB_EMtGIVdFWF15CtaZn","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-LRB_EMtGIVdFWF15CtaZn-ZgniWF_bBwgAfdWVUscUz","source":"LRB_EMtGIVdFWF15CtaZn","target":"ZgniWF_bBwgAfdWVUscUz","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-ZgniWF_bBwgAfdWVUscUz-i0Cdr3R21VkxwOFusXuuJ","source":"ZgniWF_bBwgAfdWVUscUz","target":"i0Cdr3R21VkxwOFusXuuJ","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-i0Cdr3R21VkxwOFusXuuJ-Or_Xqml5FxryAYBg6t5AD","source":"i0Cdr3R21VkxwOFusXuuJ","target":"Or_Xqml5FxryAYBg6t5AD","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-Or_Xqml5FxryAYBg6t5AD-UE0cTszZk6H7l0ucZ1zaC","source":"Or_Xqml5FxryAYBg6t5AD","target":"UE0cTszZk6H7l0ucZ1zaC","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-UE0cTszZk6H7l0ucZ1zaC-k5moibQ4SMF8OXDKnA4Ok","source":"UE0cTszZk6H7l0ucZ1zaC","target":"k5moibQ4SMF8OXDKnA4Ok","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-k5moibQ4SMF8OXDKnA4Ok-33DtZ-cmHeJT054fXBHyk","source":"k5moibQ4SMF8OXDKnA4Ok","target":"33DtZ-cmHeJT054fXBHyk","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-33DtZ-cmHeJT054fXBHyk-CVPkz4TWD46vzXaZmXT1R","source":"33DtZ-cmHeJT054fXBHyk","target":"CVPkz4TWD46vzXaZmXT1R","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-CVPkz4TWD46vzXaZmXT1R-xf2eV7KY5CVfEUOI83QVS","source":"CVPkz4TWD46vzXaZmXT1R","target":"xf2eV7KY5CVfEUOI83QVS","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-xf2eV7KY5CVfEUOI83QVS-jrfmVsY7Z1XfvxDFMMi5Z","source":"xf2eV7KY5CVfEUOI83QVS","target":"jrfmVsY7Z1XfvxDFMMi5Z","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-jrfmVsY7Z1XfvxDFMMi5Z-kWT65X2ngL_hUz7Btb3cI","source":"jrfmVsY7Z1XfvxDFMMi5Z","target":"kWT65X2ngL_hUz7Btb3cI","type":"smoothstep","animated":true,"data":{"isDefault":true}}]}'::jsonb, profile_id)
  RETURNING id INTO version_id;

  UPDATE flows SET current_version_id = version_id WHERE id = new_flow_id;

END $$;
