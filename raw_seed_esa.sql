[dotenv@17.2.3] injecting env (2) from .env.local -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`
DO $$
DECLARE
  org_id uuid;
  profile_id uuid;
  new_flow_id uuid;
  version_id uuid;
BEGIN
  -- Get IDs
  SELECT id INTO org_id FROM organizations WHERE slug = 'teaching-com';
  SELECT id INTO profile_id FROM profiles WHERE organization_id = org_id LIMIT 1;

  -- Insert Flow
  INSERT INTO flows (organization_id, name, description, created_by)
  VALUES (org_id, 'Educator School Admin', 'Imported from Blueprint', profile_id)
  RETURNING id INTO new_flow_id;

  -- Insert Version
  INSERT INTO flow_versions (flow_id, version_name, data, created_by)
  VALUES (new_flow_id, 'Initial Seed', '{"nodes":[{"id":"elnZFN_EjamIxH5O19h0z","type":"MC","position":{"x":0,"y":0},"data":{"screen":{"id":"elnZFN_EjamIxH5O19h0z","type":"MC","title":"Who are you?","question":"I am a...","options":[{"id":"opt-tch","label":"Teacher","value":"teacher"},{"id":"opt-sch","label":"School Admin","value":"school-admin"},{"id":"opt-dst","label":"District Admin","value":"district-admin"}],"variableBinding":"role"},"label":"Educator Gatekeeper","code":"MC-GATEKEEPER-EDU","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"S1LhIUMomyIkWJHtH_ZhH","type":"MSG","position":{"x":360,"y":0},"data":{"screen":{"id":"S1LhIUMomyIkWJHtH_ZhH","type":"MSG","title":"Social Proof","style":"overlay","copy":"You are joining 50 million users who trust Typing.com.","headline":"Great choice!"},"label":"Social Proof","code":"MSG-SOCIAL-PROOF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"AwOlZryaPpbCJ469UqL5_","type":"MC","position":{"x":720,"y":0},"data":{"screen":{"id":"AwOlZryaPpbCJ469UqL5_","type":"MC","title":"Confirm Location","question":"We detected you''re in [Detected State]. Is this correct?","options":[{"id":"opt-yes","label":"Yes","value":"yes"},{"id":"opt-no","label":"No, I''m in ___","value":"no"}],"variableBinding":"state"},"label":"Confirm Location","code":"MC-LOCATION-EDU","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"QUHY1WIMnMdbbo8H4hioF","type":"NUM","position":{"x":1080,"y":0},"data":{"screen":{"id":"QUHY1WIMnMdbbo8H4hioF","type":"NUM","title":"Student Count","prompt":"How many students do you teach?","placeholder":"e.g. 25","inputType":"number","variableBinding":"studentCount"},"label":"Student Count","code":"NUM-STUDENTS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"hbrl5s_pwtyLwyAP5BfNK","type":"MSG","position":{"x":0,"y":320},"data":{"screen":{"id":"hbrl5s_pwtyLwyAP5BfNK","type":"MSG","title":"Scalability","headline":"Scalable.","copy":"Our platform is optimized to handle high-volume traffic for schools your size.","style":"standard"},"label":"Affirmation: School Size","code":"MSG-SCHOOLSIZE-SCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"F20IM350NpGuoP9wHNNQz","type":"MC","position":{"x":360,"y":320},"data":{"screen":{"id":"F20IM350NpGuoP9wHNNQz","type":"MC","title":"Rostering","question":"How do you want your students to log in?","options":[{"id":"opt-google","label":"Google/Microsoft","value":"google"},{"id":"opt-clever","label":"Clever","value":"clever"},{"id":"opt-class","label":"Class Code","value":"manual"}],"variableBinding":"rosteringMethod"},"label":"Rostering","code":"MC-ROSTERING","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"XvL6lauLeM1i5QGIQoiK6","type":"MSG","position":{"x":720,"y":320},"data":{"screen":{"id":"XvL6lauLeM1i5QGIQoiK6","type":"MSG","title":"Infrastructure","headline":"Great.","copy":"We support Single Sign-On (SSO) to make school-wide deployment instant.","style":"standard"},"label":"Affirmation: Rostering (School)","code":"MSG-ROSTERING-SCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"KUnIIdLdQmfn7gejwsnyn","type":"MC","position":{"x":1080,"y":320},"data":{"screen":{"id":"KUnIIdLdQmfn7gejwsnyn","type":"MC","title":"Environment","question":"How important is removing ads?","options":[{"id":"opt-very","label":"Very Important","value":"very"},{"id":"opt-some","label":"Somewhat","value":"somewhat"},{"id":"opt-not","label":"Not a Priority","value":"none"}],"variableBinding":"adImportance"},"label":"Ads Concern","code":"MC-ENVIRONMENT","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"E_8RkJuo4u1_fJPZfxa2H","type":"MSG","position":{"x":0,"y":640},"data":{"screen":{"id":"E_8RkJuo4u1_fJPZfxa2H","type":"MSG","title":"Walled Garden","headline":"We hear you.","copy":"That''s why PLUS creates a 100%% Ad-Free, Walled Garden environment to minimize risk.","style":"standard"},"label":"Affirmation: Environment (School)","code":"MSG-ENVIRONMENT-SCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"cLrvMnH0k6WJRRniUCjWa","type":"MC","position":{"x":360,"y":640},"data":{"screen":{"id":"cLrvMnH0k6WJRRniUCjWa","type":"MC","title":"Data Retention","question":"Do you need to track growth year-over-year?","options":[{"id":"opt-yes","label":"Yes","value":"yes"},{"id":"opt-no","label":"No","value":"no"}],"variableBinding":"dataRetention"},"label":"Data Retention","code":"MC-RETENTION","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"iH7KSy1UPD3Bbgt8y8c39","type":"MSG","position":{"x":720,"y":640},"data":{"screen":{"id":"iH7KSy1UPD3Bbgt8y8c39","type":"MSG","title":"Unlimited History","headline":"Noted.","copy":"We will enable Unlimited Data Retention for your account (removing the standard 70-day limit).","style":"standard"},"label":"Affirmation: Retention","code":"MSG-RETENTION-SCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"RGAAglVdRLqzyoXfUoUfh","type":"MC","position":{"x":1080,"y":640},"data":{"screen":{"id":"RGAAglVdRLqzyoXfUoUfh","type":"MC","title":"Analytics","question":"Do you need ROI reporting?","options":[{"id":"opt-yes","label":"Yes","value":"yes"},{"id":"opt-no","label":"No","value":"no"}],"variableBinding":"analytics"},"label":"Analytics / ROI","code":"MC-ANALYTICS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"Q1s2gwyAULCG4Kzh4ruJl","type":"MSG","position":{"x":0,"y":960},"data":{"screen":{"id":"Q1s2gwyAULCG4Kzh4ruJl","type":"MSG","title":"Admin Console","headline":"Visible ROI.","copy":"Our Admin Console provides analytics to prove utilization and ROI.","style":"standard"},"label":"Affirmation: Analytics","code":"MSG-ANALYTICS-SCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"fbvS0D8xCCmU202RmitNc","type":"MC","position":{"x":360,"y":960},"data":{"screen":{"id":"fbvS0D8xCCmU202RmitNc","type":"MC","title":"Dual Role","question":"Do you also teach your own classes?","options":[{"id":"opt-yes","label":"Yes","value":"yes","nextScreenId":"pCI3M1pXmXC2irLXtNLTS"},{"id":"opt-no","label":"No","value":"no","nextScreenId":"CODE:MC-DISCOVERY-EDU"}],"variableBinding":"dualRole"},"label":"Dual Role","code":"MC-DUALROLE-EDU","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"pCI3M1pXmXC2irLXtNLTS","type":"MSG","position":{"x":720,"y":960},"data":{"screen":{"id":"pCI3M1pXmXC2irLXtNLTS","type":"MSG","title":"The Solution","headline":"Perfect.","copy":"You won''t need two accounts. Our Role Switcher lets you toggle instantly between District/School Oversight and Classroom Instruction.","style":"standard"},"label":"Affirmation: Dual Role","code":"MSG-DUALROLE-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"LI26iyfwGRT-YwFPIpIRd","type":"MS","position":{"x":1080,"y":960},"data":{"screen":{"id":"LI26iyfwGRT-YwFPIpIRd","type":"MS","title":"Teacher Content Needs","question":"For your own students, are you looking to teach skills beyond basic typing?","options":[{"id":"opt-coding","label":"Coding Basics","value":"coding"},{"id":"opt-digcit","label":"Digital Citizenship","value":"digcit"},{"id":"opt-typing","label":"Just Typing","value":"typing"}],"variableBinding":"teacherContent"},"label":"Question: Teacher Content (Dual)","code":"MS-CONTENT-TCH-DUAL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"KO5OCyoHoz2Odp-OuSI-Y","type":"MSG","position":{"x":0,"y":1280},"data":{"screen":{"id":"KO5OCyoHoz2Odp-OuSI-Y","type":"MSG","title":"Dual Access","headline":"Curriculum Unlocked.","copy":"Your account includes full access to the PLUS Curriculum for your students, while maintaining admin privileges.","style":"standard"},"label":"Affirmation: Teacher Content (Dual)","code":"MSG-TEACHERCONTENT-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"auTka5cv07GhCkxClXgxq","type":"MC","position":{"x":360,"y":1280},"data":{"screen":{"id":"auTka5cv07GhCkxClXgxq","type":"MC","title":"Teacher Accessibility","question":"Do the students in your specific classes need accessibility accommodations?","options":[{"id":"opt-yes","label":"Yes, I have specific needs","value":"yes"},{"id":"opt-no","label":"No, standard is fine","value":"no"}],"variableBinding":"teacherAccessibility"},"label":"Question: Teacher Accessibility (Dual)","code":"MC-ACCESSIBILITY-TCH-DUAL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"gK4IQeYCKA9j6tjfPJPjD","type":"MSG","position":{"x":720,"y":1280},"data":{"screen":{"id":"gK4IQeYCKA9j6tjfPJPjD","type":"MSG","title":"Granular Control","headline":"We''ve got you covered.","copy":"You can apply specific accessibility settings to your own roster without altering global settings.","style":"standard"},"label":"Affirmation: Teacher Access (Dual)","code":"MSG-TEACHERACCESS-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"Z8vweBv4IIiqN9BWPi_yz","type":"MC","position":{"x":1080,"y":1280},"data":{"screen":{"id":"Z8vweBv4IIiqN9BWPi_yz","type":"MC","title":"Discovery","question":"How did you hear about us?","options":[{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-friend","label":"Friend/Colleague","value":"friend"}],"variableBinding":"discoverySource","variants":{"student":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"parent":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"adult":{"options":[{"id":"opt-coworker","label":"Coworker","value":"coworker"},{"id":"opt-friend","label":"Friend","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"teacher":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"school-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"district-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]}}},"label":"Discovery","code":"MC-DISCOVERY","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"ANyk_Kd4XD0Q9rK5_4nPU","type":"INT","position":{"x":0,"y":1600},"data":{"screen":{"id":"ANyk_Kd4XD0Q9rK5_4nPU","type":"INT","title":"Plan Analysis","headline":"Building Your Plan...","duration":3000,"animation":"progress-bar","messages":[{"text":"Analyzing inputs..."},{"text":"Generating curriculum..."},{"text":"Finalizing..."}],"variants":{"student":{"headline":"Building Your Plan...","messages":[{"text":"Measuring your baseline..."},{"text":"Setting target speed..."},{"text":"Optimizing curriculum..."}]},"parent":{"headline":"Building Plan...","messages":[{"text":"Assessing typing level..."},{"text":"Calibrating tech literacy modules..."},{"text":"Addressing screen time concerns..."}]},"adult":{"headline":"Building Your Plan...","messages":[{"text":"Optimizing for your goal..."},{"text":"Tackling your barriers..."},{"text":"Finalizing roadmap..."}]},"teacher":{"headline":"Building Classroom Plan...","messages":[{"text":"Confirming standards alignment..."},{"text":"Loading curriculum..."},{"text":"Configuring rostering..."}]},"school-admin":{"headline":"Building School Plan...","messages":[{"text":"Scaling for student count..."},{"text":"Securing environment..."},{"text":"Enabling data retention..."}]},"district-admin":{"headline":"Building District Plan...","messages":[{"text":"Mapping schools to dashboard..."},{"text":"Verifying rostering protocols..."},{"text":"Preparing compliance docs..."}]}}},"label":"Plan Analysis","code":"INT-PLAN-ANALYSIS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"1h-UfSfPc1lHXpimMzXCn","type":"FORM","position":{"x":360,"y":1600},"data":{"screen":{"id":"1h-UfSfPc1lHXpimMzXCn","type":"FORM","title":"Create Account","headline":"Your Plan is Ready","copy":"Create details to save your plan.","collectFields":["email","password"],"showSocialLogin":true,"variants":{"student":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"parent":{"headline":"Save your child''s custom plan","copy":"We''ve generated your child''s personalized roadmap."},"adult":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"teacher":{"headline":"Your Classroom is Ready.","copy":"Create your free account to save your classroom settings."},"school-admin":{"headline":"Secure Your School''s Learning Environment.","copy":"Create an account to save your school''s data configuration."},"district-admin":{"headline":"Your Compliant District Plan.","copy":"Solve your privacy requirements and rostering infrastructure today."}}},"label":"Signup Form","code":"FORM-SIGNUP","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"7F_IHQfsJ8CCAiZBJTrnT","type":"PAY","position":{"x":720,"y":1600},"data":{"screen":{"id":"7F_IHQfsJ8CCAiZBJTrnT","type":"PAY","title":"PLUS Plan","headline":"Unlock Full Experience","valuePropositions":["Ad-free learning","Unlimited history","Certificates"],"primaryAction":{"label":"Upgrade","action":"upgrade"},"variants":{"student":{"headline":"Unlock the Full Experience","valuePropositions":["Premium Content","Zero Distractions"]},"parent":{"headline":"Unlock the Full Experience for [Child Name]","valuePropositions":["Premium Content","Zero Distractions"]},"adult":{"headline":"Your Typing.com PLUS plan is ready","valuePropositions":["Ad-free learning","Certificates","Unlimited history"]},"teacher":{"headline":"Unlock the Full Classroom Experience","valuePropositions":["Full Coding Curriculum","Ad-free environment","Student progress tracking"]},"school-admin":{"headline":"Your School''s Ad-Free Quote","valuePropositions":["100%% Ad-Free Walled Garden","Unlimited Data Retention","School-wide SSO"]},"district-admin":{"headline":"Your District Implementation Roadmap","valuePropositions":["100%% Ad-Free Walled Garden","Signed DPA Compliance","District Master Dashboard"]}}},"label":"Plus Paywall","code":"PAY-PLUS","isValid":true,"isSelected":false,"isHighlighted":false}}],"edges":[{"id":"e-elnZFN_EjamIxH5O19h0z-S1LhIUMomyIkWJHtH_ZhH","source":"elnZFN_EjamIxH5O19h0z","target":"S1LhIUMomyIkWJHtH_ZhH","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-S1LhIUMomyIkWJHtH_ZhH-AwOlZryaPpbCJ469UqL5_","source":"S1LhIUMomyIkWJHtH_ZhH","target":"AwOlZryaPpbCJ469UqL5_","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-AwOlZryaPpbCJ469UqL5_-QUHY1WIMnMdbbo8H4hioF","source":"AwOlZryaPpbCJ469UqL5_","target":"QUHY1WIMnMdbbo8H4hioF","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-QUHY1WIMnMdbbo8H4hioF-hbrl5s_pwtyLwyAP5BfNK","source":"QUHY1WIMnMdbbo8H4hioF","target":"hbrl5s_pwtyLwyAP5BfNK","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-hbrl5s_pwtyLwyAP5BfNK-F20IM350NpGuoP9wHNNQz","source":"hbrl5s_pwtyLwyAP5BfNK","target":"F20IM350NpGuoP9wHNNQz","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-F20IM350NpGuoP9wHNNQz-XvL6lauLeM1i5QGIQoiK6","source":"F20IM350NpGuoP9wHNNQz","target":"XvL6lauLeM1i5QGIQoiK6","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-XvL6lauLeM1i5QGIQoiK6-KUnIIdLdQmfn7gejwsnyn","source":"XvL6lauLeM1i5QGIQoiK6","target":"KUnIIdLdQmfn7gejwsnyn","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-KUnIIdLdQmfn7gejwsnyn-E_8RkJuo4u1_fJPZfxa2H","source":"KUnIIdLdQmfn7gejwsnyn","target":"E_8RkJuo4u1_fJPZfxa2H","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-E_8RkJuo4u1_fJPZfxa2H-cLrvMnH0k6WJRRniUCjWa","source":"E_8RkJuo4u1_fJPZfxa2H","target":"cLrvMnH0k6WJRRniUCjWa","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-cLrvMnH0k6WJRRniUCjWa-iH7KSy1UPD3Bbgt8y8c39","source":"cLrvMnH0k6WJRRniUCjWa","target":"iH7KSy1UPD3Bbgt8y8c39","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-iH7KSy1UPD3Bbgt8y8c39-RGAAglVdRLqzyoXfUoUfh","source":"iH7KSy1UPD3Bbgt8y8c39","target":"RGAAglVdRLqzyoXfUoUfh","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-RGAAglVdRLqzyoXfUoUfh-Q1s2gwyAULCG4Kzh4ruJl","source":"RGAAglVdRLqzyoXfUoUfh","target":"Q1s2gwyAULCG4Kzh4ruJl","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-Q1s2gwyAULCG4Kzh4ruJl-fbvS0D8xCCmU202RmitNc","source":"Q1s2gwyAULCG4Kzh4ruJl","target":"fbvS0D8xCCmU202RmitNc","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-pCI3M1pXmXC2irLXtNLTS-LI26iyfwGRT-YwFPIpIRd","source":"pCI3M1pXmXC2irLXtNLTS","target":"LI26iyfwGRT-YwFPIpIRd","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-LI26iyfwGRT-YwFPIpIRd-KO5OCyoHoz2Odp-OuSI-Y","source":"LI26iyfwGRT-YwFPIpIRd","target":"KO5OCyoHoz2Odp-OuSI-Y","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-KO5OCyoHoz2Odp-OuSI-Y-auTka5cv07GhCkxClXgxq","source":"KO5OCyoHoz2Odp-OuSI-Y","target":"auTka5cv07GhCkxClXgxq","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-auTka5cv07GhCkxClXgxq-gK4IQeYCKA9j6tjfPJPjD","source":"auTka5cv07GhCkxClXgxq","target":"gK4IQeYCKA9j6tjfPJPjD","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-gK4IQeYCKA9j6tjfPJPjD-Z8vweBv4IIiqN9BWPi_yz","source":"gK4IQeYCKA9j6tjfPJPjD","target":"Z8vweBv4IIiqN9BWPi_yz","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-Z8vweBv4IIiqN9BWPi_yz-ANyk_Kd4XD0Q9rK5_4nPU","source":"Z8vweBv4IIiqN9BWPi_yz","target":"ANyk_Kd4XD0Q9rK5_4nPU","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-ANyk_Kd4XD0Q9rK5_4nPU-1h-UfSfPc1lHXpimMzXCn","source":"ANyk_Kd4XD0Q9rK5_4nPU","target":"1h-UfSfPc1lHXpimMzXCn","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-1h-UfSfPc1lHXpimMzXCn-7F_IHQfsJ8CCAiZBJTrnT","source":"1h-UfSfPc1lHXpimMzXCn","target":"7F_IHQfsJ8CCAiZBJTrnT","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-fbvS0D8xCCmU202RmitNc-pCI3M1pXmXC2irLXtNLTS-opt-yes","source":"fbvS0D8xCCmU202RmitNc","target":"pCI3M1pXmXC2irLXtNLTS","sourceHandle":"opt-yes","type":"smoothstep","animated":true,"label":"Yes","data":{"label":"Yes"}}]}'::jsonb, profile_id)
  RETURNING id INTO version_id;

  -- Update Current
  UPDATE flows SET current_version_id = version_id WHERE id = new_flow_id;
END $$;

