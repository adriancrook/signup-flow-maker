-- SQL Seed for individual-adult-- Flow: Individual AdultDO $$DECLARE  org_id uuid;  profile_id uuid;  new_flow_id uuid;  version_id uuid;BEGIN  -- Get IDs  SELECT id INTO org_id FROM organizations WHERE slug = 'teaching-com';  SELECT id INTO profile_id FROM profiles WHERE organization_id = org_id LIMIT 1;  -- Insert Flow  INSERT INTO flows (organization_id, name, description, created_by)  VALUES (org_id, 'Individual Adult', 'Imported from Blueprint', profile_id)  RETURNING id INTO new_flow_id;  -- Insert Version  INSERT INTO flow_versions (flow_id, version_name, data, created_by)  VALUES (new_flow_id, 'Initial Seed', '{"nodes":[{"id":"E9pdtV5sngMVbQL8lwV5s","type":"MC","position":{"x":0,"y":0},"data":{"screen":{"id":"E9pdtV5sngMVbQL8lwV5s","type":"MC","title":"Who are you?","question":"I am a...","options":[{"id":"opt-stu","label":"Student","value":"student"},{"id":"opt-par","label":"Parent","value":"parent"},{"id":"opt-adl","label":"Adult Learner","value":"adult"}],"variableBinding":"role"},"label":"Individual Gatekeeper","code":"MC-GATEKEEPER-IND","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"ljx0ASBuzeyc-eUQUFckV","type":"MSG","position":{"x":360,"y":0},"data":{"screen":{"id":"ljx0ASBuzeyc-eUQUFckV","type":"MSG","title":"Social Proof","style":"overlay","copy":"You are joining 50 million users who trust Typing.com.","headline":"Great choice!"},"label":"Social Proof","code":"MSG-SOCIAL-PROOF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"w7cd8r6CmL2ConY97uYZB","type":"MC","position":{"x":720,"y":0},"data":{"screen":{"id":"w7cd8r6CmL2ConY97uYZB","type":"MC","title":"Purpose","question":"Why are you looking to improve your typing today?","options":[{"id":"opt-school","label":"Success in School/College","value":"school"},{"id":"opt-coding","label":"Tech & Coding Interests","value":"coding"},{"id":"opt-fun","label":"Just for Fun & Games","value":"fun"},{"id":"opt-growth","label":"Personal Growth","value":"growth"}],"variableBinding":"purpose","variants":{"student":{"question":"Why are you looking to improve your typing today?","options":[{"id":"opt-school","label":"Success in School/College","value":"school"},{"id":"opt-coding","label":"Tech & Coding Interests","value":"coding"},{"id":"opt-fun","label":"Just for Fun & Games","value":"fun"},{"id":"opt-growth","label":"Personal Growth","value":"growth"}]},"adult":{"question":"What is your primary goal today?","options":[{"id":"opt-technique","label":"I want to learn proper technique from scratch","value":"technique"},{"id":"opt-speed","label":"I want to boost my existing speed and accuracy","value":"speed"},{"id":"opt-test","label":"I just want to take a quick typing test","value":"test"}]}}},"label":"Purpose Assessment","code":"MC-PURPOSE","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"yC2xFP4N-vdoy90_xHa4c","type":"TEST","position":{"x":1080,"y":0},"data":{"screen":{"id":"yC2xFP4N-vdoy90_xHa4c","type":"TEST","title":"Baseline Test","prompt":"Let''s get a baseline. Type the sentence below:","testText":"The quick brown fox jumps over the lazy dog.","minDuration":0,"variableBindings":{"wpm":"currentWpm"}},"label":"Mini Typing Test","code":"TEST-BASELINE-ALL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"hlDeStvTtDFC5hdaCeWqa","type":"MSG","position":{"x":0,"y":320},"data":{"screen":{"id":"hlDeStvTtDFC5hdaCeWqa","type":"MSG","title":"Baseline Result","headline":"Not bad!","copy":"You clocked in at [Current WPM] WPM. We can 2x that speed with practice.","style":"standard"},"label":"Baseline Result","code":"MSG-BASELINE-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"YIA2KjjlAzjDTJKYrfchX","type":"MC","position":{"x":360,"y":320},"data":{"screen":{"id":"YIA2KjjlAzjDTJKYrfchX","type":"MC","title":"Target Speed","question":"What is your target typing speed?","options":[{"id":"opt-40","label":"40 WPM","value":"40"},{"id":"opt-60","label":"60 WPM","value":"60"},{"id":"opt-80","label":"80 WPM","value":"80"},{"id":"opt-100","label":"100+ WPM","value":"100+"}],"variableBinding":"targetSpeed"},"label":"Target Speed","code":"MC-TARGET-ALL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"dnmebV84MtM80IQOGTAk4","type":"MSG","position":{"x":720,"y":320},"data":{"screen":{"id":"dnmebV84MtM80IQOGTAk4","type":"MSG","title":"Target Set","headline":"We''ve got you.","copy":"We''ll track your progress every step of the way to ensure you hit that goal.","style":"standard"},"label":"Target Set","code":"MSG-TARGET-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"B5j9nEtXCq_OhKLUYKoEa","type":"MC","position":{"x":1080,"y":320},"data":{"screen":{"id":"B5j9nEtXCq_OhKLUYKoEa","type":"MC","title":"Certificate","question":"Do you need a certificate of your WPM for work?","options":[{"id":"opt-yes","label":"Yes","value":"yes"},{"id":"opt-no","label":"No","value":"no"}],"variableBinding":"needsCertificate"},"label":"Certificate Need","code":"MC-CERTIFICATE-ADL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"hMRvJ8rr-FafO8YR1fJ14","type":"MSG","position":{"x":0,"y":640},"data":{"screen":{"id":"hMRvJ8rr-FafO8YR1fJ14","type":"MSG","title":"Certificates","headline":"Certified.","copy":"We provide verifiable certificates authenticating your performance for employers.","style":"standard"},"label":"Certificate Info","code":"MSG-CERTIFICATE-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"I5pMSTad3By_L2eDBG0ON","type":"MC","position":{"x":360,"y":640},"data":{"screen":{"id":"I5pMSTad3By_L2eDBG0ON","type":"MC","title":"Barriers","question":"What usually stops you from practicing?","options":[{"id":"opt-distract","label":"Distractions/Ads","value":"distractions"},{"id":"opt-bored","label":"Boredom","value":"boredom"},{"id":"opt-time","label":"Lack of Time","value":"time"}],"variableBinding":"barrier","variants":{"student":{"question":"What usually stops you from practicing?","options":[{"id":"opt-distract","label":"Distractions/Ads","value":"distractions"},{"id":"opt-bored","label":"Boredom","value":"boredom"},{"id":"opt-time","label":"Lack of Time","value":"time"}]},"parent":{"question":"What usually stops them from practicing?","options":[{"id":"opt-distract","label":"Distractions/Ads","value":"distractions"},{"id":"opt-bored","label":"Boredom","value":"boredom"},{"id":"opt-time","label":"Lack of Time","value":"time"}]},"adult":{"question":"What usually stops you from practicing?","options":[{"id":"opt-distract","label":"Distractions/Ads","value":"distractions"},{"id":"opt-bored","label":"Boredom","value":"boredom"},{"id":"opt-time","label":"Lack of Time","value":"time"}]}}},"label":"Barriers","code":"MC-BARRIERS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"c5FkHub8DK-y9SPGHNxwo","type":"MSG","position":{"x":720,"y":640},"data":{"screen":{"id":"c5FkHub8DK-y9SPGHNxwo","type":"MSG","title":"We Get It","headline":"We get it.","copy":"That''s why PLUS removes all video ads to keep you focused.","style":"standard","variants":{"student":{"headline":"We get it.","copy":"That''s why PLUS removes all video ads to keep you focused."},"parent":{"headline":"We get it.","copy":"That''s why PLUS removes all video ads to keep them focused."},"adult":{"headline":"We get it.","copy":"That''s why PLUS removes all video ads to keep you in a ''Flow State''."}}},"label":"Barriers Solution","code":"MSG-BARRIERS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"hNdDL8mZwLxgrmjbcB6pO","type":"MC","position":{"x":1080,"y":640},"data":{"screen":{"id":"hNdDL8mZwLxgrmjbcB6pO","type":"MC","title":"Motivation","question":"What keeps you motivated?","options":[{"id":"opt-streaks","label":"Streaks","value":"streaks"},{"id":"opt-games","label":"Games","value":"games"},{"id":"opt-track","label":"Progress Tracking","value":"tracking"}],"variableBinding":"motivation","variants":{"student":{"question":"What keeps you motivated when you''re learning?","options":[{"id":"opt-streaks","label":"Streaks","value":"streaks"},{"id":"opt-games","label":"Games","value":"games"},{"id":"opt-track","label":"Progress Tracking","value":"tracking"}]},"parent":{"question":"What motivates them to learn a new skill?","options":[{"id":"opt-fun","label":"Fun","value":"fun"},{"id":"opt-grades","label":"Grades","value":"grades"},{"id":"opt-rewards","label":"Rewards","value":"rewards"}]},"adult":{"question":"What keeps you motivated when you''re learning?","options":[{"id":"opt-streaks","label":"Streaks","value":"streaks"},{"id":"opt-certificates","label":"Certificates","value":"certificates"}]}}},"label":"Motivation","code":"MC-MOTIVATION","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"JQP2ILVD6os_3IXp87Ri7","type":"MC","position":{"x":0,"y":960},"data":{"screen":{"id":"JQP2ILVD6os_3IXp87Ri7","type":"MC","title":"Daily Goal","question":"How much time can you commit daily?","options":[{"id":"opt-5","label":"5 Mins","value":"5"},{"id":"opt-15","label":"15 Mins","value":"15"},{"id":"opt-30","label":"30 Mins","value":"30"}],"variableBinding":"dailyGoal","variants":{"student":{"question":"How much time can you commit to practicing each day?","options":[{"id":"opt-5","label":"5 Mins","value":"5"},{"id":"opt-15","label":"15 Mins","value":"15"},{"id":"opt-30","label":"30 Mins","value":"30"}]},"parent":{"question":"How much time will they be able to use Typing.com?","options":[{"id":"opt-5","label":"5 Mins","value":"5"},{"id":"opt-15","label":"15 Mins","value":"15"},{"id":"opt-30","label":"30 Mins","value":"30"}]},"adult":{"question":"How much time can you commit?","options":[{"id":"opt-5","label":"5 Mins","value":"5"},{"id":"opt-15","label":"15 Mins","value":"15"},{"id":"opt-30","label":"30 Mins","value":"30"}]}}},"label":"Daily Goal","code":"MC-DAILYGOAL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"tgReRbbVxdlHsl4gB8fQD","type":"MC","position":{"x":360,"y":960},"data":{"screen":{"id":"tgReRbbVxdlHsl4gB8fQD","type":"MC","title":"Discovery","question":"How did you hear about us?","options":[{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-friend","label":"Friend/Colleague","value":"friend"}],"variableBinding":"discoverySource","variants":{"student":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"parent":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"adult":{"options":[{"id":"opt-coworker","label":"Coworker","value":"coworker"},{"id":"opt-friend","label":"Friend","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"teacher":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"school-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"district-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]}}},"label":"Discovery","code":"MC-DISCOVERY","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"NIjJFNou5nLZRq1HhOqdM","type":"INT","position":{"x":720,"y":960},"data":{"screen":{"id":"NIjJFNou5nLZRq1HhOqdM","type":"INT","title":"Plan Analysis","headline":"Building Your Plan...","duration":3000,"animation":"progress-bar","messages":[{"text":"Analyzing inputs..."},{"text":"Generating curriculum..."},{"text":"Finalizing..."}],"variants":{"student":{"headline":"Building Your Plan...","messages":[{"text":"Measuring your baseline..."},{"text":"Setting target speed..."},{"text":"Optimizing curriculum..."}]},"parent":{"headline":"Building Plan...","messages":[{"text":"Assessing typing level..."},{"text":"Calibrating tech literacy modules..."},{"text":"Addressing screen time concerns..."}]},"adult":{"headline":"Building Your Plan...","messages":[{"text":"Optimizing for your goal..."},{"text":"Tackling your barriers..."},{"text":"Finalizing roadmap..."}]},"teacher":{"headline":"Building Classroom Plan...","messages":[{"text":"Confirming standards alignment..."},{"text":"Loading curriculum..."},{"text":"Configuring rostering..."}]},"school-admin":{"headline":"Building School Plan...","messages":[{"text":"Scaling for student count..."},{"text":"Securing environment..."},{"text":"Enabling data retention..."}]},"district-admin":{"headline":"Building District Plan...","messages":[{"text":"Mapping schools to dashboard..."},{"text":"Verifying rostering protocols..."},{"text":"Preparing compliance docs..."}]}}},"label":"Plan Analysis","code":"INT-PLAN-ANALYSIS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"GP0oJ4wmjGayWJ8EwmCxF","type":"FORM","position":{"x":1080,"y":960},"data":{"screen":{"id":"GP0oJ4wmjGayWJ8EwmCxF","type":"FORM","title":"Create Account","headline":"Your Plan is Ready","copy":"Create details to save your plan.","collectFields":["email","password"],"showSocialLogin":true,"variants":{"student":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"parent":{"headline":"Save your child''s custom plan","copy":"We''ve generated your child''s personalized roadmap."},"adult":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"teacher":{"headline":"Your Classroom is Ready.","copy":"Create your free account to save your classroom settings."},"school-admin":{"headline":"Secure Your School''s Learning Environment.","copy":"Create an account to save your school''s data configuration."},"district-admin":{"headline":"Your Compliant District Plan.","copy":"Solve your privacy requirements and rostering infrastructure today."}}},"label":"Signup Form","code":"FORM-SIGNUP","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"Zy1gt9LY46JAM3Dms8_Ux","type":"PAY","position":{"x":0,"y":1280},"data":{"screen":{"id":"Zy1gt9LY46JAM3Dms8_Ux","type":"PAY","title":"PLUS Plan","headline":"Unlock Full Experience","valuePropositions":["Ad-free learning","Unlimited history","Certificates"],"primaryAction":{"label":"Upgrade","action":"upgrade"},"variants":{"student":{"headline":"Unlock the Full Experience","valuePropositions":["Premium Content","Zero Distractions"]},"parent":{"headline":"Unlock the Full Experience for [Child Name]","valuePropositions":["Premium Content","Zero Distractions"]},"adult":{"headline":"Your Typing.com PLUS plan is ready","valuePropositions":["Ad-free learning","Certificates","Unlimited history"]},"teacher":{"headline":"Unlock the Full Classroom Experience","valuePropositions":["Full Coding Curriculum","Ad-free environment","Student progress tracking"]},"school-admin":{"headline":"Your School''s Ad-Free Quote","valuePropositions":["100% Ad-Free Walled Garden","Unlimited Data Retention","School-wide SSO"]},"district-admin":{"headline":"Your District Implementation Roadmap","valuePropositions":["100% Ad-Free Walled Garden","Signed DPA Compliance","District Master Dashboard"]}}},"label":"Plus Paywall","code":"PAY-PLUS","isValid":true,"isSelected":false,"isHighlighted":false}}],"edges":[{"id":"e-E9pdtV5sngMVbQL8lwV5s-ljx0ASBuzeyc-eUQUFckV","source":"E9pdtV5sngMVbQL8lwV5s","target":"ljx0ASBuzeyc-eUQUFckV","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-ljx0ASBuzeyc-eUQUFckV-w7cd8r6CmL2ConY97uYZB","source":"ljx0ASBuzeyc-eUQUFckV","target":"w7cd8r6CmL2ConY97uYZB","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-w7cd8r6CmL2ConY97uYZB-yC2xFP4N-vdoy90_xHa4c","source":"w7cd8r6CmL2ConY97uYZB","target":"yC2xFP4N-vdoy90_xHa4c","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-yC2xFP4N-vdoy90_xHa4c-hlDeStvTtDFC5hdaCeWqa","source":"yC2xFP4N-vdoy90_xHa4c","target":"hlDeStvTtDFC5hdaCeWqa","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-hlDeStvTtDFC5hdaCeWqa-YIA2KjjlAzjDTJKYrfchX","source":"hlDeStvTtDFC5hdaCeWqa","target":"YIA2KjjlAzjDTJKYrfchX","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-YIA2KjjlAzjDTJKYrfchX-dnmebV84MtM80IQOGTAk4","source":"YIA2KjjlAzjDTJKYrfchX","target":"dnmebV84MtM80IQOGTAk4","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-dnmebV84MtM80IQOGTAk4-B5j9nEtXCq_OhKLUYKoEa","source":"dnmebV84MtM80IQOGTAk4","target":"B5j9nEtXCq_OhKLUYKoEa","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-B5j9nEtXCq_OhKLUYKoEa-hMRvJ8rr-FafO8YR1fJ14","source":"B5j9nEtXCq_OhKLUYKoEa","target":"hMRvJ8rr-FafO8YR1fJ14","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-hMRvJ8rr-FafO8YR1fJ14-I5pMSTad3By_L2eDBG0ON","source":"hMRvJ8rr-FafO8YR1fJ14","target":"I5pMSTad3By_L2eDBG0ON","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-I5pMSTad3By_L2eDBG0ON-c5FkHub8DK-y9SPGHNxwo","source":"I5pMSTad3By_L2eDBG0ON","target":"c5FkHub8DK-y9SPGHNxwo","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-c5FkHub8DK-y9SPGHNxwo-hNdDL8mZwLxgrmjbcB6pO","source":"c5FkHub8DK-y9SPGHNxwo","target":"hNdDL8mZwLxgrmjbcB6pO","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-hNdDL8mZwLxgrmjbcB6pO-JQP2ILVD6os_3IXp87Ri7","source":"hNdDL8mZwLxgrmjbcB6pO","target":"JQP2ILVD6os_3IXp87Ri7","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-JQP2ILVD6os_3IXp87Ri7-tgReRbbVxdlHsl4gB8fQD","source":"JQP2ILVD6os_3IXp87Ri7","target":"tgReRbbVxdlHsl4gB8fQD","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-tgReRbbVxdlHsl4gB8fQD-NIjJFNou5nLZRq1HhOqdM","source":"tgReRbbVxdlHsl4gB8fQD","target":"NIjJFNou5nLZRq1HhOqdM","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-NIjJFNou5nLZRq1HhOqdM-GP0oJ4wmjGayWJ8EwmCxF","source":"NIjJFNou5nLZRq1HhOqdM","target":"GP0oJ4wmjGayWJ8EwmCxF","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-GP0oJ4wmjGayWJ8EwmCxF-Zy1gt9LY46JAM3Dms8_Ux","source":"GP0oJ4wmjGayWJ8EwmCxF","target":"Zy1gt9LY46JAM3Dms8_Ux","type":"smoothstep","animated":true,"data":{"isDefault":true}}]}'::jsonb, profile_id)  RETURNING id INTO version_id;  -- Update Current  UPDATE flows SET current_version_id = version_id WHERE id = new_flow_id;END $$;