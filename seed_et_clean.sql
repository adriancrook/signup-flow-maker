-- SQL Seed for educator-teacher-- Flow: Educator TeacherDO $$DECLARE  org_id uuid;  profile_id uuid;  new_flow_id uuid;  version_id uuid;BEGIN  -- Get IDs  SELECT id INTO org_id FROM organizations WHERE slug = 'teaching-com';  SELECT id INTO profile_id FROM profiles WHERE organization_id = org_id LIMIT 1;  -- Insert Flow  INSERT INTO flows (organization_id, name, description, created_by)  VALUES (org_id, 'Educator Teacher', 'Imported from Blueprint', profile_id)  RETURNING id INTO new_flow_id;  -- Insert Version  INSERT INTO flow_versions (flow_id, version_name, data, created_by)  VALUES (new_flow_id, 'Initial Seed', '{"nodes":[{"id":"BuLRC0hyCwuaS3kw_U9hJ","type":"MC","position":{"x":0,"y":0},"data":{"screen":{"id":"BuLRC0hyCwuaS3kw_U9hJ","type":"MC","title":"Who are you?","question":"I am a...","options":[{"id":"opt-tch","label":"Teacher","value":"teacher"},{"id":"opt-sch","label":"School Admin","value":"school-admin"},{"id":"opt-dst","label":"District Admin","value":"district-admin"}],"variableBinding":"role"},"label":"Educator Gatekeeper","code":"MC-GATEKEEPER-EDU","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"eu8fYv0_XQZ_iTz1Rs14g","type":"MSG","position":{"x":360,"y":0},"data":{"screen":{"id":"eu8fYv0_XQZ_iTz1Rs14g","type":"MSG","title":"Social Proof","style":"overlay","copy":"You are joining 50 million users who trust Typing.com.","headline":"Great choice!"},"label":"Social Proof","code":"MSG-SOCIAL-PROOF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"gSkR-O5Em8i0l9dcTf_w7","type":"MC","position":{"x":720,"y":0},"data":{"screen":{"id":"gSkR-O5Em8i0l9dcTf_w7","type":"MC","title":"Confirm Location","question":"We detected you''re in [Detected State]. Is this correct?","options":[{"id":"opt-yes","label":"Yes","value":"yes"},{"id":"opt-no","label":"No, I''m in ___","value":"no"}],"variableBinding":"state"},"label":"Confirm Location","code":"MC-LOCATION-EDU","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"jhbV0X6gUy0TuSbgF6pxb","type":"MSG","position":{"x":1080,"y":0},"data":{"screen":{"id":"jhbV0X6gUy0TuSbgF6pxb","type":"MSG","title":"Location Confirmed","headline":"Great.","copy":"We''ll align your curriculum to [State] standards.","style":"standard"},"label":"Location Success","code":"MSG-LOCATION-EDU-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"YMArAYaIhV5Hu_T_M2oZd","type":"MS","position":{"x":0,"y":320},"data":{"screen":{"id":"YMArAYaIhV5Hu_T_M2oZd","type":"MS","title":"Grade Levels","question":"What grade levels do you teach?","options":[{"id":"opt-k2","label":"K-2","value":"k-2"},{"id":"opt-35","label":"3-5","value":"3-5"},{"id":"opt-68","label":"6-8","value":"6-8"},{"id":"opt-912","label":"9-12","value":"9-12"}],"variableBinding":"gradeLevels"},"label":"Grade Levels","code":"MS-GRADES-TCH","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"A_q_KoORSRr2QlOTXYP1e","type":"MSG","position":{"x":360,"y":320},"data":{"screen":{"id":"A_q_KoORSRr2QlOTXYP1e","type":"MSG","title":"Content Match","headline":"Excellent.","copy":"We have curriculum aligned specifically to [State] standards for those grades.","style":"standard"},"label":"Affirmation: Grades","code":"MSG-GRADES-TCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"RR3Vt0ujKGqpFtBlwfENJ","type":"NUM","position":{"x":720,"y":320},"data":{"screen":{"id":"RR3Vt0ujKGqpFtBlwfENJ","type":"NUM","title":"Student Count","prompt":"How many students do you teach?","placeholder":"e.g. 25","inputType":"number","variableBinding":"studentCount"},"label":"Student Count","code":"NUM-STUDENTS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"nP-cARms_yzp1Ze3g50rg","type":"MSG","position":{"x":1080,"y":320},"data":{"screen":{"id":"nP-cARms_yzp1Ze3g50rg","type":"MSG","title":"Classroom Size","headline":"Got it.","copy":"Our tools are built to manage student counts of any size with live tracking.","style":"standard"},"label":"Affirmation: Student Count","code":"MSG-STUDENTS-TCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"RAGC_RZsAdqX3XyGaN28_","type":"MS","position":{"x":0,"y":640},"data":{"screen":{"id":"RAGC_RZsAdqX3XyGaN28_","type":"MS","title":"Content Needs","question":"Beyond typing, what other skills are you looking to teach?","options":[{"id":"opt-coding","label":"Coding/Computer Basics","value":"coding"},{"id":"opt-digcit","label":"Digital Citizenship","value":"digcit"},{"id":"opt-career","label":"Career Prep","value":"career"},{"id":"opt-typing","label":"Just Typing","value":"typing"}],"variableBinding":"contentNeeds"},"label":"Content Needs","code":"MS-CONTENT","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"nZk5-oR-J0BdRAWhueC6F","type":"MSG","position":{"x":360,"y":640},"data":{"screen":{"id":"nZk5-oR-J0BdRAWhueC6F","type":"MSG","title":"Perfect Choice","headline":"Perfect choice.","copy":"Our PLUS license unlocks a full Tech Literacy curriculum, not just keyboarding.","style":"standard"},"label":"Affirmation: Content Needs","code":"MSG-CONTENT-TCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"bz-eJcw7syZKtqWnjdn2u","type":"MC","position":{"x":720,"y":640},"data":{"screen":{"id":"bz-eJcw7syZKtqWnjdn2u","type":"MC","title":"Rostering","question":"How do you want your students to log in?","options":[{"id":"opt-google","label":"Google/Microsoft","value":"google"},{"id":"opt-clever","label":"Clever","value":"clever"},{"id":"opt-class","label":"Class Code","value":"manual"}],"variableBinding":"rosteringMethod"},"label":"Rostering","code":"MC-ROSTERING","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"0LnzBmxO1OXtwsRCAjWKh","type":"MSG","position":{"x":1080,"y":640},"data":{"screen":{"id":"0LnzBmxO1OXtwsRCAjWKh","type":"MSG","title":"Seamless Sync","headline":"Ease of Use.","copy":"We sync seamlessly with your rostering method so you don''t have to manually manage passwords.","style":"standard"},"label":"Affirmation: Rostering","code":"MSG-ROSTERING-TCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"pnOIssZiKAYmxITh_6xdc","type":"MC","position":{"x":0,"y":960},"data":{"screen":{"id":"pnOIssZiKAYmxITh_6xdc","type":"MC","title":"Environment","question":"How important is removing ads?","options":[{"id":"opt-very","label":"Very Important","value":"very"},{"id":"opt-some","label":"Somewhat","value":"somewhat"},{"id":"opt-not","label":"Not a Priority","value":"none"}],"variableBinding":"adImportance"},"label":"Ads Concern","code":"MC-ENVIRONMENT","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"3KkojfvOgyuIGcTzR66CT","type":"MSG","position":{"x":360,"y":960},"data":{"screen":{"id":"3KkojfvOgyuIGcTzR66CT","type":"MSG","title":"Distraction Free","headline":"Understood.","copy":"PLUS removes all ads to keep students in a focused ''flow state''.","style":"standard"},"label":"Affirmation: Environment","code":"MSG-ENVIRONMENT-TCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"F0wQwBxA6xAGOrx9rMWSN","type":"MC","position":{"x":720,"y":960},"data":{"screen":{"id":"F0wQwBxA6xAGOrx9rMWSN","type":"MC","title":"Accessibility","question":"Do students require accommodations?","options":[{"id":"opt-yes","label":"Yes","value":"yes"},{"id":"opt-no","label":"No","value":"no"}],"variableBinding":"needsAccessibility"},"label":"Accessibility","code":"MC-ACCESSIBILITY","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"y0AS-Y2tRUlZ1Y-KswtSY","type":"MSG","position":{"x":1080,"y":960},"data":{"screen":{"id":"y0AS-Y2tRUlZ1Y-KswtSY","type":"MSG","title":"Inclusivity","headline":"Inclusive.","copy":"We provide WCAG 2.2 AA-compliant themes, audio dictation, and one-handed settings to ensure every student succeeds.","style":"standard"},"label":"Affirmation: Accessibility","code":"MSG-ACCESSIBILITY-TCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"8oBRfWy9fnoIu4SjNVKOY","type":"MC","position":{"x":0,"y":1280},"data":{"screen":{"id":"8oBRfWy9fnoIu4SjNVKOY","type":"MC","title":"Device","question":"What device(s) will students use?","options":[{"id":"opt-chrome","label":"Chromebooks","value":"chromebook"},{"id":"opt-ipad","label":"iPads/Tablets","value":"tablet"},{"id":"opt-desk","label":"Desktop/Laptop","value":"desktop"}],"variableBinding":"device"},"label":"Device","code":"MC-DEVICE-TCH","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"RnFKxV74D4_2fDzOJ64xC","type":"MSG","position":{"x":360,"y":1280},"data":{"screen":{"id":"RnFKxV74D4_2fDzOJ64xC","type":"MSG","title":"Compatibility","headline":"Awesome!","copy":"Typing.com is designed to work on all devices without issue!","style":"standard"},"label":"Affirmation: Device","code":"MSG-DEVICE-TCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"Tp4BdScwH6F2D5Y2e77eW","type":"MC","position":{"x":720,"y":1280},"data":{"screen":{"id":"Tp4BdScwH6F2D5Y2e77eW","type":"MC","title":"Discovery","question":"How did you hear about us?","options":[{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-friend","label":"Friend/Colleague","value":"friend"}],"variableBinding":"discoverySource","variants":{"student":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"parent":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"adult":{"options":[{"id":"opt-coworker","label":"Coworker","value":"coworker"},{"id":"opt-friend","label":"Friend","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"teacher":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"school-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"district-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]}}},"label":"Discovery","code":"MC-DISCOVERY","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"Oaa9cOOtVgWU6Y8kBkfTq","type":"INT","position":{"x":1080,"y":1280},"data":{"screen":{"id":"Oaa9cOOtVgWU6Y8kBkfTq","type":"INT","title":"Plan Analysis","headline":"Building Your Plan...","duration":3000,"animation":"progress-bar","messages":[{"text":"Analyzing inputs..."},{"text":"Generating curriculum..."},{"text":"Finalizing..."}],"variants":{"student":{"headline":"Building Your Plan...","messages":[{"text":"Measuring your baseline..."},{"text":"Setting target speed..."},{"text":"Optimizing curriculum..."}]},"parent":{"headline":"Building Plan...","messages":[{"text":"Assessing typing level..."},{"text":"Calibrating tech literacy modules..."},{"text":"Addressing screen time concerns..."}]},"adult":{"headline":"Building Your Plan...","messages":[{"text":"Optimizing for your goal..."},{"text":"Tackling your barriers..."},{"text":"Finalizing roadmap..."}]},"teacher":{"headline":"Building Classroom Plan...","messages":[{"text":"Confirming standards alignment..."},{"text":"Loading curriculum..."},{"text":"Configuring rostering..."}]},"school-admin":{"headline":"Building School Plan...","messages":[{"text":"Scaling for student count..."},{"text":"Securing environment..."},{"text":"Enabling data retention..."}]},"district-admin":{"headline":"Building District Plan...","messages":[{"text":"Mapping schools to dashboard..."},{"text":"Verifying rostering protocols..."},{"text":"Preparing compliance docs..."}]}}},"label":"Plan Analysis","code":"INT-PLAN-ANALYSIS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"cMRYtLv1FtjMuJzBjnXMF","type":"FORM","position":{"x":0,"y":1600},"data":{"screen":{"id":"cMRYtLv1FtjMuJzBjnXMF","type":"FORM","title":"Create Account","headline":"Your Plan is Ready","copy":"Create details to save your plan.","collectFields":["email","password"],"showSocialLogin":true,"variants":{"student":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"parent":{"headline":"Save your child''s custom plan","copy":"We''ve generated your child''s personalized roadmap."},"adult":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"teacher":{"headline":"Your Classroom is Ready.","copy":"Create your free account to save your classroom settings."},"school-admin":{"headline":"Secure Your School''s Learning Environment.","copy":"Create an account to save your school''s data configuration."},"district-admin":{"headline":"Your Compliant District Plan.","copy":"Solve your privacy requirements and rostering infrastructure today."}}},"label":"Signup Form","code":"FORM-SIGNUP","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"tE6QQdpDdksYldXQbhy2_","type":"PAY","position":{"x":360,"y":1600},"data":{"screen":{"id":"tE6QQdpDdksYldXQbhy2_","type":"PAY","title":"PLUS Plan","headline":"Unlock Full Experience","valuePropositions":["Ad-free learning","Unlimited history","Certificates"],"primaryAction":{"label":"Upgrade","action":"upgrade"},"variants":{"student":{"headline":"Unlock the Full Experience","valuePropositions":["Premium Content","Zero Distractions"]},"parent":{"headline":"Unlock the Full Experience for [Child Name]","valuePropositions":["Premium Content","Zero Distractions"]},"adult":{"headline":"Your Typing.com PLUS plan is ready","valuePropositions":["Ad-free learning","Certificates","Unlimited history"]},"teacher":{"headline":"Unlock the Full Classroom Experience","valuePropositions":["Full Coding Curriculum","Ad-free environment","Student progress tracking"]},"school-admin":{"headline":"Your School''s Ad-Free Quote","valuePropositions":["100% Ad-Free Walled Garden","Unlimited Data Retention","School-wide SSO"]},"district-admin":{"headline":"Your District Implementation Roadmap","valuePropositions":["100% Ad-Free Walled Garden","Signed DPA Compliance","District Master Dashboard"]}}},"label":"Plus Paywall","code":"PAY-PLUS","isValid":true,"isSelected":false,"isHighlighted":false}}],"edges":[{"id":"e-BuLRC0hyCwuaS3kw_U9hJ-eu8fYv0_XQZ_iTz1Rs14g","source":"BuLRC0hyCwuaS3kw_U9hJ","target":"eu8fYv0_XQZ_iTz1Rs14g","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-eu8fYv0_XQZ_iTz1Rs14g-gSkR-O5Em8i0l9dcTf_w7","source":"eu8fYv0_XQZ_iTz1Rs14g","target":"gSkR-O5Em8i0l9dcTf_w7","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-gSkR-O5Em8i0l9dcTf_w7-jhbV0X6gUy0TuSbgF6pxb","source":"gSkR-O5Em8i0l9dcTf_w7","target":"jhbV0X6gUy0TuSbgF6pxb","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-jhbV0X6gUy0TuSbgF6pxb-YMArAYaIhV5Hu_T_M2oZd","source":"jhbV0X6gUy0TuSbgF6pxb","target":"YMArAYaIhV5Hu_T_M2oZd","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-YMArAYaIhV5Hu_T_M2oZd-A_q_KoORSRr2QlOTXYP1e","source":"YMArAYaIhV5Hu_T_M2oZd","target":"A_q_KoORSRr2QlOTXYP1e","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-A_q_KoORSRr2QlOTXYP1e-RR3Vt0ujKGqpFtBlwfENJ","source":"A_q_KoORSRr2QlOTXYP1e","target":"RR3Vt0ujKGqpFtBlwfENJ","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-RR3Vt0ujKGqpFtBlwfENJ-nP-cARms_yzp1Ze3g50rg","source":"RR3Vt0ujKGqpFtBlwfENJ","target":"nP-cARms_yzp1Ze3g50rg","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-nP-cARms_yzp1Ze3g50rg-RAGC_RZsAdqX3XyGaN28_","source":"nP-cARms_yzp1Ze3g50rg","target":"RAGC_RZsAdqX3XyGaN28_","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-RAGC_RZsAdqX3XyGaN28_-nZk5-oR-J0BdRAWhueC6F","source":"RAGC_RZsAdqX3XyGaN28_","target":"nZk5-oR-J0BdRAWhueC6F","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-nZk5-oR-J0BdRAWhueC6F-bz-eJcw7syZKtqWnjdn2u","source":"nZk5-oR-J0BdRAWhueC6F","target":"bz-eJcw7syZKtqWnjdn2u","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-bz-eJcw7syZKtqWnjdn2u-0LnzBmxO1OXtwsRCAjWKh","source":"bz-eJcw7syZKtqWnjdn2u","target":"0LnzBmxO1OXtwsRCAjWKh","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-0LnzBmxO1OXtwsRCAjWKh-pnOIssZiKAYmxITh_6xdc","source":"0LnzBmxO1OXtwsRCAjWKh","target":"pnOIssZiKAYmxITh_6xdc","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-pnOIssZiKAYmxITh_6xdc-3KkojfvOgyuIGcTzR66CT","source":"pnOIssZiKAYmxITh_6xdc","target":"3KkojfvOgyuIGcTzR66CT","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-3KkojfvOgyuIGcTzR66CT-F0wQwBxA6xAGOrx9rMWSN","source":"3KkojfvOgyuIGcTzR66CT","target":"F0wQwBxA6xAGOrx9rMWSN","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-F0wQwBxA6xAGOrx9rMWSN-y0AS-Y2tRUlZ1Y-KswtSY","source":"F0wQwBxA6xAGOrx9rMWSN","target":"y0AS-Y2tRUlZ1Y-KswtSY","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-y0AS-Y2tRUlZ1Y-KswtSY-8oBRfWy9fnoIu4SjNVKOY","source":"y0AS-Y2tRUlZ1Y-KswtSY","target":"8oBRfWy9fnoIu4SjNVKOY","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-8oBRfWy9fnoIu4SjNVKOY-RnFKxV74D4_2fDzOJ64xC","source":"8oBRfWy9fnoIu4SjNVKOY","target":"RnFKxV74D4_2fDzOJ64xC","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-RnFKxV74D4_2fDzOJ64xC-Tp4BdScwH6F2D5Y2e77eW","source":"RnFKxV74D4_2fDzOJ64xC","target":"Tp4BdScwH6F2D5Y2e77eW","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-Tp4BdScwH6F2D5Y2e77eW-Oaa9cOOtVgWU6Y8kBkfTq","source":"Tp4BdScwH6F2D5Y2e77eW","target":"Oaa9cOOtVgWU6Y8kBkfTq","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-Oaa9cOOtVgWU6Y8kBkfTq-cMRYtLv1FtjMuJzBjnXMF","source":"Oaa9cOOtVgWU6Y8kBkfTq","target":"cMRYtLv1FtjMuJzBjnXMF","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-cMRYtLv1FtjMuJzBjnXMF-tE6QQdpDdksYldXQbhy2_","source":"cMRYtLv1FtjMuJzBjnXMF","target":"tE6QQdpDdksYldXQbhy2_","type":"smoothstep","animated":true,"data":{"isDefault":true}}]}'::jsonb, profile_id)  RETURNING id INTO version_id;  -- Update Current  UPDATE flows SET current_version_id = version_id WHERE id = new_flow_id;END $$;