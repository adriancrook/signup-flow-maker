[dotenv@17.2.3] injecting env (2) from .env.local -- tip: ⚙️  specify custom .env file path with { path: '/custom/path/.env' }
DO $$
DECLARE
  org_id uuid;
  profile_id uuid;
  new_flow_id uuid;
  version_id uuid;
BEGIN
  -- Get IDs
  SELECT id INTO org_id FROM organizations WHERE slug = 'teaching-com';
  SELECT id INTO profile_id FROM profiles WHERE organization_id = org_id LIMIT 1;

  -- Insert Flow
  INSERT INTO flows (organization_id, name, description, created_by)
  VALUES (org_id, 'Educator School Admin', 'Imported from Blueprint', profile_id)
  RETURNING id INTO new_flow_id;

  -- Insert Version
  INSERT INTO flow_versions (flow_id, version_name, data, created_by)
  VALUES (new_flow_id, 'Initial Seed', '{"nodes":[{"id":"J7cjKa5rE5--eflVS0wh0","type":"MC","position":{"x":0,"y":0},"data":{"screen":{"id":"J7cjKa5rE5--eflVS0wh0","type":"MC","title":"Who are you?","question":"I am a...","options":[{"id":"opt-tch","label":"Teacher","value":"teacher"},{"id":"opt-sch","label":"School Admin","value":"school-admin"},{"id":"opt-dst","label":"District Admin","value":"district-admin"}],"variableBinding":"role"},"label":"Educator Gatekeeper","code":"MC-GATEKEEPER-EDU","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"5IkfhZaKXeCQ2jibQ0dcm","type":"MSG","position":{"x":360,"y":0},"data":{"screen":{"id":"5IkfhZaKXeCQ2jibQ0dcm","type":"MSG","title":"Social Proof","style":"overlay","copy":"You are joining 50 million users who trust Typing.com.","headline":"Great choice!"},"label":"Social Proof","code":"MSG-SOCIAL-PROOF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"3N5ThNem1_1hdeGZDImmE","type":"MC","position":{"x":720,"y":0},"data":{"screen":{"id":"3N5ThNem1_1hdeGZDImmE","type":"MC","title":"Confirm Location","question":"We detected you''re in [Detected State]. Is this correct?","options":[{"id":"opt-yes","label":"Yes","value":"yes"},{"id":"opt-no","label":"No, I''m in ___","value":"no"}],"variableBinding":"state"},"label":"Confirm Location","code":"MC-LOCATION-EDU","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"79yWW4IXAAqJJL2OypgNI","type":"NUM","position":{"x":1080,"y":0},"data":{"screen":{"id":"79yWW4IXAAqJJL2OypgNI","type":"NUM","title":"Student Count","prompt":"How many students do you teach?","placeholder":"e.g. 25","inputType":"number","variableBinding":"studentCount"},"label":"Student Count","code":"NUM-STUDENTS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"ld5XnAlX9vFBdwcak5e7y","type":"MSG","position":{"x":0,"y":320},"data":{"screen":{"id":"ld5XnAlX9vFBdwcak5e7y","type":"MSG","title":"Scalability","headline":"Scalable.","copy":"Our platform is optimized to handle high-volume traffic for schools your size.","style":"standard"},"label":"Affirmation: School Size","code":"MSG-SCHOOLSIZE-SCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"BoaQX5wZts5L9BknMTnLe","type":"MC","position":{"x":360,"y":320},"data":{"screen":{"id":"BoaQX5wZts5L9BknMTnLe","type":"MC","title":"Rostering","question":"How do you want your students to log in?","options":[{"id":"opt-google","label":"Google/Microsoft","value":"google"},{"id":"opt-clever","label":"Clever","value":"clever"},{"id":"opt-class","label":"Class Code","value":"manual"}],"variableBinding":"rosteringMethod"},"label":"Rostering","code":"MC-ROSTERING","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"Ox-C7gGByaZSe77OROYwH","type":"MSG","position":{"x":720,"y":320},"data":{"screen":{"id":"Ox-C7gGByaZSe77OROYwH","type":"MSG","title":"Infrastructure","headline":"Great.","copy":"We support Single Sign-On (SSO) to make school-wide deployment instant.","style":"standard"},"label":"Affirmation: Rostering (School)","code":"MSG-ROSTERING-SCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"cbp0hJqOdW5jvoecl4LXN","type":"MC","position":{"x":1080,"y":320},"data":{"screen":{"id":"cbp0hJqOdW5jvoecl4LXN","type":"MC","title":"Environment","question":"How important is removing ads?","options":[{"id":"opt-very","label":"Very Important","value":"very"},{"id":"opt-some","label":"Somewhat","value":"somewhat"},{"id":"opt-not","label":"Not a Priority","value":"none"}],"variableBinding":"adImportance"},"label":"Ads Concern","code":"MC-ENVIRONMENT","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"d4jj4LXlTpeNwuOej9LXV","type":"MSG","position":{"x":0,"y":640},"data":{"screen":{"id":"d4jj4LXlTpeNwuOej9LXV","type":"MSG","title":"Walled Garden","headline":"We hear you.","copy":"That''s why PLUS creates a 100% Ad-Free, Walled Garden environment to minimize risk.","style":"standard"},"label":"Affirmation: Environment (School)","code":"MSG-ENVIRONMENT-SCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"z6swVNZ-mierqSTdCrkhG","type":"MC","position":{"x":360,"y":640},"data":{"screen":{"id":"z6swVNZ-mierqSTdCrkhG","type":"MC","title":"Data Retention","question":"Do you need to track growth year-over-year?","options":[{"id":"opt-yes","label":"Yes","value":"yes"},{"id":"opt-no","label":"No","value":"no"}],"variableBinding":"dataRetention"},"label":"Data Retention","code":"MC-RETENTION","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"KWGevhQNbmVIqYee3rCPn","type":"MSG","position":{"x":720,"y":640},"data":{"screen":{"id":"KWGevhQNbmVIqYee3rCPn","type":"MSG","title":"Unlimited History","headline":"Noted.","copy":"We will enable Unlimited Data Retention for your account (removing the standard 70-day limit).","style":"standard"},"label":"Affirmation: Retention","code":"MSG-RETENTION-SCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"7EZ3J6CzORQL0JvsetZzv","type":"MC","position":{"x":1080,"y":640},"data":{"screen":{"id":"7EZ3J6CzORQL0JvsetZzv","type":"MC","title":"Analytics","question":"Do you need ROI reporting?","options":[{"id":"opt-yes","label":"Yes","value":"yes"},{"id":"opt-no","label":"No","value":"no"}],"variableBinding":"analytics"},"label":"Analytics / ROI","code":"MC-ANALYTICS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"45_d_6ZO4-0ILjXSXOECj","type":"MSG","position":{"x":0,"y":960},"data":{"screen":{"id":"45_d_6ZO4-0ILjXSXOECj","type":"MSG","title":"Admin Console","headline":"Visible ROI.","copy":"Our Admin Console provides analytics to prove utilization and ROI.","style":"standard"},"label":"Affirmation: Analytics","code":"MSG-ANALYTICS-SCH-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"DTfog0gYH4BbBm0eBu69e","type":"MC","position":{"x":360,"y":960},"data":{"screen":{"id":"DTfog0gYH4BbBm0eBu69e","type":"MC","title":"Dual Role","question":"Do you also teach your own classes?","options":[{"id":"opt-yes","label":"Yes","value":"yes","nextScreenId":"CYinT2V94_ER45Di36AHJ"},{"id":"opt-no","label":"No","value":"no","nextScreenId":"CODE:MC-DISCOVERY-EDU"}],"variableBinding":"dualRole"},"label":"Dual Role","code":"MC-DUALROLE-EDU","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"CYinT2V94_ER45Di36AHJ","type":"MSG","position":{"x":720,"y":960},"data":{"screen":{"id":"CYinT2V94_ER45Di36AHJ","type":"MSG","title":"The Solution","headline":"Perfect.","copy":"You won''t need two accounts. Our Role Switcher lets you toggle instantly between District/School Oversight and Classroom Instruction.","style":"standard"},"label":"Affirmation: Dual Role","code":"MSG-DUALROLE-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"hHz9mAIRc2zu5EdxinluT","type":"MS","position":{"x":1080,"y":960},"data":{"screen":{"id":"hHz9mAIRc2zu5EdxinluT","type":"MS","title":"Teacher Content Needs","question":"For your own students, are you looking to teach skills beyond basic typing?","options":[{"id":"opt-coding","label":"Coding Basics","value":"coding"},{"id":"opt-digcit","label":"Digital Citizenship","value":"digcit"},{"id":"opt-typing","label":"Just Typing","value":"typing"}],"variableBinding":"teacherContent"},"label":"Question: Teacher Content (Dual)","code":"MS-CONTENT-TCH-DUAL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"ZbvO2nRx4ckpuU0p0m-d5","type":"MSG","position":{"x":0,"y":1280},"data":{"screen":{"id":"ZbvO2nRx4ckpuU0p0m-d5","type":"MSG","title":"Dual Access","headline":"Curriculum Unlocked.","copy":"Your account includes full access to the PLUS Curriculum for your students, while maintaining admin privileges.","style":"standard"},"label":"Affirmation: Teacher Content (Dual)","code":"MSG-TEACHERCONTENT-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"oQPaklRS-NDXvURgeHo3O","type":"MC","position":{"x":360,"y":1280},"data":{"screen":{"id":"oQPaklRS-NDXvURgeHo3O","type":"MC","title":"Teacher Accessibility","question":"Do the students in your specific classes need accessibility accommodations?","options":[{"id":"opt-yes","label":"Yes, I have specific needs","value":"yes"},{"id":"opt-no","label":"No, standard is fine","value":"no"}],"variableBinding":"teacherAccessibility"},"label":"Question: Teacher Accessibility (Dual)","code":"MC-ACCESSIBILITY-TCH-DUAL","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"vEPIbwFoxKwKneVO4gj7J","type":"MSG","position":{"x":720,"y":1280},"data":{"screen":{"id":"vEPIbwFoxKwKneVO4gj7J","type":"MSG","title":"Granular Control","headline":"We''ve got you covered.","copy":"You can apply specific accessibility settings to your own roster without altering global settings.","style":"standard"},"label":"Affirmation: Teacher Access (Dual)","code":"MSG-TEACHERACCESS-AFF","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"IqaPqBVomdioZU2FwCxei","type":"MC","position":{"x":1080,"y":1280},"data":{"screen":{"id":"IqaPqBVomdioZU2FwCxei","type":"MC","title":"Discovery","question":"How did you hear about us?","options":[{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-friend","label":"Friend/Colleague","value":"friend"}],"variableBinding":"discoverySource","variants":{"student":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"parent":{"options":[{"id":"opt-teacher","label":"Teacher","value":"teacher"},{"id":"opt-friend","label":"Friend/Classmate","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"adult":{"options":[{"id":"opt-coworker","label":"Coworker","value":"coworker"},{"id":"opt-friend","label":"Friend","value":"friend"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"}]},"teacher":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"school-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]},"district-admin":{"options":[{"id":"opt-colleague","label":"Colleague","value":"colleague"},{"id":"opt-conf","label":"Conference/PD","value":"conference"},{"id":"opt-social","label":"Social Media","value":"social"},{"id":"opt-search","label":"Search Engine","value":"search"},{"id":"opt-dist","label":"District Recommendation","value":"district"}]}}},"label":"Discovery","code":"MC-DISCOVERY","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"zvoZZ7f_0NyTJT3Jh1L04","type":"INT","position":{"x":0,"y":1600},"data":{"screen":{"id":"zvoZZ7f_0NyTJT3Jh1L04","type":"INT","title":"Plan Analysis","headline":"Building Your Plan...","duration":3000,"animation":"progress-bar","messages":[{"text":"Analyzing inputs..."},{"text":"Generating curriculum..."},{"text":"Finalizing..."}],"variants":{"student":{"headline":"Building Your Plan...","messages":[{"text":"Measuring your baseline..."},{"text":"Setting target speed..."},{"text":"Optimizing curriculum..."}]},"parent":{"headline":"Building Plan...","messages":[{"text":"Assessing typing level..."},{"text":"Calibrating tech literacy modules..."},{"text":"Addressing screen time concerns..."}]},"adult":{"headline":"Building Your Plan...","messages":[{"text":"Optimizing for your goal..."},{"text":"Tackling your barriers..."},{"text":"Finalizing roadmap..."}]},"teacher":{"headline":"Building Classroom Plan...","messages":[{"text":"Confirming standards alignment..."},{"text":"Loading curriculum..."},{"text":"Configuring rostering..."}]},"school-admin":{"headline":"Building School Plan...","messages":[{"text":"Scaling for student count..."},{"text":"Securing environment..."},{"text":"Enabling data retention..."}]},"district-admin":{"headline":"Building District Plan...","messages":[{"text":"Mapping schools to dashboard..."},{"text":"Verifying rostering protocols..."},{"text":"Preparing compliance docs..."}]}}},"label":"Plan Analysis","code":"INT-PLAN-ANALYSIS","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"2P6ROvXOM2M2HuL1l_Yob","type":"FORM","position":{"x":360,"y":1600},"data":{"screen":{"id":"2P6ROvXOM2M2HuL1l_Yob","type":"FORM","title":"Create Account","headline":"Your Plan is Ready","copy":"Create details to save your plan.","collectFields":["email","password"],"showSocialLogin":true,"variants":{"student":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"parent":{"headline":"Save your child''s custom plan","copy":"We''ve generated your child''s personalized roadmap."},"adult":{"headline":"Your customized typing plan is ready!","copy":"We''ve built a roadmap to help you reach your goal."},"teacher":{"headline":"Your Classroom is Ready.","copy":"Create your free account to save your classroom settings."},"school-admin":{"headline":"Secure Your School''s Learning Environment.","copy":"Create an account to save your school''s data configuration."},"district-admin":{"headline":"Your Compliant District Plan.","copy":"Solve your privacy requirements and rostering infrastructure today."}}},"label":"Signup Form","code":"FORM-SIGNUP","isValid":true,"isSelected":false,"isHighlighted":false}},{"id":"rRmUHsmNrQnwrapVKE7Wz","type":"PAY","position":{"x":720,"y":1600},"data":{"screen":{"id":"rRmUHsmNrQnwrapVKE7Wz","type":"PAY","title":"PLUS Plan","headline":"Unlock Full Experience","valuePropositions":["Ad-free learning","Unlimited history","Certificates"],"primaryAction":{"label":"Upgrade","action":"upgrade"},"variants":{"student":{"headline":"Unlock the Full Experience","valuePropositions":["Premium Content","Zero Distractions"]},"parent":{"headline":"Unlock the Full Experience for [Child Name]","valuePropositions":["Premium Content","Zero Distractions"]},"adult":{"headline":"Your Typing.com PLUS plan is ready","valuePropositions":["Ad-free learning","Certificates","Unlimited history"]},"teacher":{"headline":"Unlock the Full Classroom Experience","valuePropositions":["Full Coding Curriculum","Ad-free environment","Student progress tracking"]},"school-admin":{"headline":"Your School''s Ad-Free Quote","valuePropositions":["100% Ad-Free Walled Garden","Unlimited Data Retention","School-wide SSO"]},"district-admin":{"headline":"Your District Implementation Roadmap","valuePropositions":["100% Ad-Free Walled Garden","Signed DPA Compliance","District Master Dashboard"]}}},"label":"Plus Paywall","code":"PAY-PLUS","isValid":true,"isSelected":false,"isHighlighted":false}}],"edges":[{"id":"e-J7cjKa5rE5--eflVS0wh0-5IkfhZaKXeCQ2jibQ0dcm","source":"J7cjKa5rE5--eflVS0wh0","target":"5IkfhZaKXeCQ2jibQ0dcm","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-5IkfhZaKXeCQ2jibQ0dcm-3N5ThNem1_1hdeGZDImmE","source":"5IkfhZaKXeCQ2jibQ0dcm","target":"3N5ThNem1_1hdeGZDImmE","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-3N5ThNem1_1hdeGZDImmE-79yWW4IXAAqJJL2OypgNI","source":"3N5ThNem1_1hdeGZDImmE","target":"79yWW4IXAAqJJL2OypgNI","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-79yWW4IXAAqJJL2OypgNI-ld5XnAlX9vFBdwcak5e7y","source":"79yWW4IXAAqJJL2OypgNI","target":"ld5XnAlX9vFBdwcak5e7y","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-ld5XnAlX9vFBdwcak5e7y-BoaQX5wZts5L9BknMTnLe","source":"ld5XnAlX9vFBdwcak5e7y","target":"BoaQX5wZts5L9BknMTnLe","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-BoaQX5wZts5L9BknMTnLe-Ox-C7gGByaZSe77OROYwH","source":"BoaQX5wZts5L9BknMTnLe","target":"Ox-C7gGByaZSe77OROYwH","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-Ox-C7gGByaZSe77OROYwH-cbp0hJqOdW5jvoecl4LXN","source":"Ox-C7gGByaZSe77OROYwH","target":"cbp0hJqOdW5jvoecl4LXN","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-cbp0hJqOdW5jvoecl4LXN-d4jj4LXlTpeNwuOej9LXV","source":"cbp0hJqOdW5jvoecl4LXN","target":"d4jj4LXlTpeNwuOej9LXV","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-d4jj4LXlTpeNwuOej9LXV-z6swVNZ-mierqSTdCrkhG","source":"d4jj4LXlTpeNwuOej9LXV","target":"z6swVNZ-mierqSTdCrkhG","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-z6swVNZ-mierqSTdCrkhG-KWGevhQNbmVIqYee3rCPn","source":"z6swVNZ-mierqSTdCrkhG","target":"KWGevhQNbmVIqYee3rCPn","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-KWGevhQNbmVIqYee3rCPn-7EZ3J6CzORQL0JvsetZzv","source":"KWGevhQNbmVIqYee3rCPn","target":"7EZ3J6CzORQL0JvsetZzv","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-7EZ3J6CzORQL0JvsetZzv-45_d_6ZO4-0ILjXSXOECj","source":"7EZ3J6CzORQL0JvsetZzv","target":"45_d_6ZO4-0ILjXSXOECj","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-45_d_6ZO4-0ILjXSXOECj-DTfog0gYH4BbBm0eBu69e","source":"45_d_6ZO4-0ILjXSXOECj","target":"DTfog0gYH4BbBm0eBu69e","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-CYinT2V94_ER45Di36AHJ-hHz9mAIRc2zu5EdxinluT","source":"CYinT2V94_ER45Di36AHJ","target":"hHz9mAIRc2zu5EdxinluT","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-hHz9mAIRc2zu5EdxinluT-ZbvO2nRx4ckpuU0p0m-d5","source":"hHz9mAIRc2zu5EdxinluT","target":"ZbvO2nRx4ckpuU0p0m-d5","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-ZbvO2nRx4ckpuU0p0m-d5-oQPaklRS-NDXvURgeHo3O","source":"ZbvO2nRx4ckpuU0p0m-d5","target":"oQPaklRS-NDXvURgeHo3O","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-oQPaklRS-NDXvURgeHo3O-vEPIbwFoxKwKneVO4gj7J","source":"oQPaklRS-NDXvURgeHo3O","target":"vEPIbwFoxKwKneVO4gj7J","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-vEPIbwFoxKwKneVO4gj7J-IqaPqBVomdioZU2FwCxei","source":"vEPIbwFoxKwKneVO4gj7J","target":"IqaPqBVomdioZU2FwCxei","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-IqaPqBVomdioZU2FwCxei-zvoZZ7f_0NyTJT3Jh1L04","source":"IqaPqBVomdioZU2FwCxei","target":"zvoZZ7f_0NyTJT3Jh1L04","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-zvoZZ7f_0NyTJT3Jh1L04-2P6ROvXOM2M2HuL1l_Yob","source":"zvoZZ7f_0NyTJT3Jh1L04","target":"2P6ROvXOM2M2HuL1l_Yob","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-2P6ROvXOM2M2HuL1l_Yob-rRmUHsmNrQnwrapVKE7Wz","source":"2P6ROvXOM2M2HuL1l_Yob","target":"rRmUHsmNrQnwrapVKE7Wz","type":"smoothstep","animated":true,"data":{"isDefault":true}},{"id":"e-DTfog0gYH4BbBm0eBu69e-CYinT2V94_ER45Di36AHJ-opt-yes","source":"DTfog0gYH4BbBm0eBu69e","target":"CYinT2V94_ER45Di36AHJ","sourceHandle":"opt-yes","type":"smoothstep","animated":true,"label":"Yes","data":{"label":"Yes"}}]}'::jsonb, profile_id)
  RETURNING id INTO version_id;

  -- Update Current
  UPDATE flows SET current_version_id = version_id WHERE id = new_flow_id;
END $$;

